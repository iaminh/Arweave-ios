(function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{enumerable:!0,get:getter})},__webpack_require__.r=function(exports){'undefined'!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(exports,Symbol.toStringTag,{value:'Module'}),Object.defineProperty(exports,'__esModule',{value:!0})},__webpack_require__.t=function(value,mode){if(1&mode&&(value=__webpack_require__(value)),8&mode)return value;if(4&mode&&'object'==typeof value&&value&&value.__esModule)return value;var ns=Object.create(null);if(__webpack_require__.r(ns),Object.defineProperty(ns,'default',{enumerable:!0,value:value}),2&mode&&'string'!=typeof value)for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module['default']}:function(){return module};return __webpack_require__.d(getter,'a',getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p='',__webpack_require__(__webpack_require__.s=17)})([function(module,exports,__webpack_require__){'use strict';function isArray(val){return'[object Array]'===toString.call(val)}function isUndefined(val){return'undefined'==typeof val}function isObject(val){return null!==val&&'object'==typeof val}function isFunction(val){return'[object Function]'===toString.call(val)}function forEach(obj,fn){if(null!==obj&&'undefined'!=typeof obj)if('object'!=typeof obj&&(obj=[obj]),isArray(obj))for(var i=0,l=obj.length;i<l;i++)fn.call(null,obj[i],i,obj);else for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&fn.call(null,obj[key],key,obj)}function merge(){function assignValue(val,key){result[key]='object'==typeof result[key]&&'object'==typeof val?merge(result[key],val):val}for(var result={},i=0,l=arguments.length;i<l;i++)forEach(arguments[i],assignValue);return result}function deepMerge(){function assignValue(val,key){result[key]='object'==typeof result[key]&&'object'==typeof val?deepMerge(result[key],val):'object'==typeof val?deepMerge({},val):val}for(var result={},i=0,l=arguments.length;i<l;i++)forEach(arguments[i],assignValue);return result}var bind=__webpack_require__(6),toString=Object.prototype.toString;module.exports={isArray:isArray,isArrayBuffer:function(val){return'[object ArrayBuffer]'===toString.call(val)},isBuffer:function(val){return null!==val&&!isUndefined(val)&&null!==val.constructor&&!isUndefined(val.constructor)&&'function'==typeof val.constructor.isBuffer&&val.constructor.isBuffer(val)},isFormData:function(val){return'undefined'!=typeof FormData&&val instanceof FormData},isArrayBufferView:function(val){var result;return result='undefined'!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(val):val&&val.buffer&&val.buffer instanceof ArrayBuffer,result},isString:function(val){return'string'==typeof val},isNumber:function(val){return'number'==typeof val},isObject:isObject,isUndefined:isUndefined,isDate:function(val){return'[object Date]'===toString.call(val)},isFile:function(val){return'[object File]'===toString.call(val)},isBlob:function(val){return'[object Blob]'===toString.call(val)},isFunction:isFunction,isStream:function(val){return isObject(val)&&isFunction(val.pipe)},isURLSearchParams:function(val){return'undefined'!=typeof URLSearchParams&&val instanceof URLSearchParams},isStandardBrowserEnv:function(){return('undefined'==typeof navigator||'ReactNative'!==navigator.product&&'NativeScript'!==navigator.product&&'NS'!==navigator.product)&&'undefined'!=typeof window&&'undefined'!=typeof document},forEach:forEach,merge:merge,deepMerge:deepMerge,extend:function(a,b,thisArg){return forEach(b,function(val,key){a[key]=thisArg&&'function'==typeof val?bind(val,thisArg):val}),a},trim:function(str){return str.replace(/^\s*/,'').replace(/\s*$/,'')}}},function(module,exports,__webpack_require__){'use strict';function stringToBuffer(string){if('undefined'==typeof TextEncoder){const TextEncoder=__webpack_require__(3).TextEncoder;return new TextEncoder().encode(string)}return new TextEncoder().encode(string)}function b64UrlToBuffer(b64UrlString){return new Uint8Array(B64js.toByteArray(b64UrlDecode(b64UrlString)))}function bufferTob64(buffer){return B64js.fromByteArray(new Uint8Array(buffer))}function bufferTob64Url(buffer){return b64UrlEncode(bufferTob64(buffer))}function b64UrlEncode(b64UrlString){return b64UrlString.replace(/\+/g,'-').replace(/\//g,'_').replace(/\=/g,'')}function b64UrlDecode(b64UrlString){b64UrlString=b64UrlString.replace(/\-/g,'+').replace(/\_/g,'/');let padding;return padding=0==b64UrlString.length%4?0:4-b64UrlString.length%4,b64UrlString.concat('='.repeat(padding))}Object.defineProperty(exports,'__esModule',{value:!0}),exports.b64UrlDecode=exports.b64UrlEncode=exports.bufferTob64Url=exports.bufferTob64=exports.b64UrlToBuffer=exports.stringToB64Url=exports.stringToBuffer=exports.bufferToString=exports.b64UrlToString=exports.concatBuffers=void 0;const B64js=__webpack_require__(15);exports.concatBuffers=function(buffers){let total_length=0;for(let i=0;i<buffers.length;i++)total_length+=buffers[i].byteLength;let temp=new Uint8Array(total_length),offset=0;temp.set(new Uint8Array(buffers[0]),offset),offset+=buffers[0].byteLength;for(let i=1;i<buffers.length;i++)temp.set(new Uint8Array(buffers[i]),offset),offset+=buffers[i].byteLength;return temp},exports.b64UrlToString=function(b64UrlString){let buffer=b64UrlToBuffer(b64UrlString);if('undefined'==typeof TextDecoder){const TextDecoder=__webpack_require__(3).TextDecoder;return new TextDecoder('utf-8',{fatal:!0}).decode(buffer)}return new TextDecoder('utf-8',{fatal:!0}).decode(buffer)},exports.bufferToString=function(buffer){if('undefined'==typeof TextDecoder){const TextDecoder=__webpack_require__(3).TextDecoder;return new TextDecoder('utf-8',{fatal:!0}).decode(buffer)}return new TextDecoder('utf-8',{fatal:!0}).decode(buffer)},exports.stringToBuffer=stringToBuffer,exports.stringToB64Url=function(string){return bufferTob64Url(stringToBuffer(string))},exports.b64UrlToBuffer=b64UrlToBuffer,exports.bufferTob64=bufferTob64,exports.bufferTob64Url=bufferTob64Url,exports.b64UrlEncode=b64UrlEncode,exports.b64UrlDecode=b64UrlDecode},function(module,exports,__webpack_require__){'use strict';Object.defineProperty(exports,'__esModule',{value:!0});const ar_1=__webpack_require__(18),api_1=__webpack_require__(20),network_1=__webpack_require__(38),transactions_1=__webpack_require__(39),wallets_1=__webpack_require__(48),transaction_1=__webpack_require__(5),ArweaveUtils=__webpack_require__(1),silo_1=__webpack_require__(49),chunks_1=__webpack_require__(50);class Arweave{constructor(apiConfig){this.api=new api_1.default(apiConfig),this.wallets=new wallets_1.default(this.api,Arweave.crypto),this.chunks=new chunks_1.default(this.api),this.transactions=new transactions_1.default(this.api,Arweave.crypto,this.chunks),this.silo=new silo_1.default(this.api,this.crypto,this.transactions),this.network=new network_1.default(this.api),this.ar=new ar_1.default}get crypto(){return Arweave.crypto}get utils(){return Arweave.utils}getConfig(){return{api:this.api.getConfig(),crypto:null}}async createTransaction(attributes,jwk){const from=await this.wallets.jwkToAddress(jwk),transaction={};if(Object.assign(transaction,attributes),!attributes.data&&!(attributes.target&&attributes.quantity))throw new Error(`A new Arweave transaction must have a 'data' value, or 'target' and 'quantity' values.`);if(void 0==attributes.owner&&(transaction.owner=jwk.n),void 0==attributes.last_tx&&(transaction.last_tx=await this.transactions.getTransactionAnchor()),'string'==typeof attributes.data&&(attributes.data=ArweaveUtils.stringToBuffer(attributes.data)),attributes.data instanceof ArrayBuffer&&(attributes.data=new Uint8Array(attributes.data)),attributes.data&&!(attributes.data instanceof Uint8Array))throw new Error('Expected data to be a string, Uint8Array or ArrayBuffer');if(void 0==attributes.reward){const length=attributes.data?attributes.data.byteLength:0;transaction.reward=await this.transactions.getPrice(length,transaction.target)}return transaction.data_root='',transaction.data_size=attributes.data?attributes.data.byteLength.toString():'0',transaction.data=attributes.data||new Uint8Array(0),new transaction_1.default(transaction)}async createSiloTransaction(attributes,jwk,siloUri){const from=await this.wallets.jwkToAddress(jwk),transaction={};if(Object.assign(transaction,attributes),!attributes.data)throw new Error(`Silo transactions must have a 'data' value`);if(!siloUri)throw new Error(`No Silo URI specified.`);if(attributes.target||attributes.quantity)throw new Error(`Silo transactions can only be used for storing data, sending AR to other wallets isn't supported.`);void 0==attributes.owner&&(transaction.owner=jwk.n),void 0==attributes.last_tx&&(transaction.last_tx=await this.transactions.getTransactionAnchor());const siloResource=await this.silo.parseUri(siloUri);if('string'==typeof attributes.data){const encrypted=await this.crypto.encrypt(ArweaveUtils.stringToBuffer(attributes.data),siloResource.getEncryptionKey());transaction.reward=await this.transactions.getPrice(encrypted.byteLength),transaction.data=ArweaveUtils.bufferTob64Url(encrypted)}if(attributes.data instanceof Uint8Array){const encrypted=await this.crypto.encrypt(attributes.data,siloResource.getEncryptionKey());transaction.reward=await this.transactions.getPrice(encrypted.byteLength),transaction.data=ArweaveUtils.bufferTob64Url(encrypted)}const siloTransaction=new transaction_1.default(transaction);return siloTransaction.addTag('Silo-Name',siloResource.getAccessKey()),siloTransaction.addTag('Silo-Version',`0.1.0`),siloTransaction}arql(query){return this.api.post('/arql',query).then(response=>response.data||[])}}exports.default=Arweave,Arweave.utils=ArweaveUtils},function(module,exports,__webpack_require__){(function(process){function inspect(obj,opts){var ctx={seen:[],stylize:stylizeNoColor};return 3<=arguments.length&&(ctx.depth=arguments[2]),4<=arguments.length&&(ctx.colors=arguments[3]),isBoolean(opts)?ctx.showHidden=opts:opts&&exports._extend(ctx,opts),isUndefined(ctx.showHidden)&&(ctx.showHidden=!1),isUndefined(ctx.depth)&&(ctx.depth=2),isUndefined(ctx.colors)&&(ctx.colors=!1),isUndefined(ctx.customInspect)&&(ctx.customInspect=!0),ctx.colors&&(ctx.stylize=stylizeWithColor),formatValue(ctx,obj,ctx.depth)}function stylizeWithColor(str,styleType){var style=inspect.styles[styleType];return style?'\x1B['+inspect.colors[style][0]+'m'+str+'\x1B['+inspect.colors[style][1]+'m':str}function stylizeNoColor(str){return str}function arrayToHash(array){var hash={};return array.forEach(function(val){hash[val]=!0}),hash}function formatValue(ctx,value,recurseTimes){if(ctx.customInspect&&value&&isFunction(value.inspect)&&value.inspect!==exports.inspect&&!(value.constructor&&value.constructor.prototype===value)){var ret=value.inspect(recurseTimes,ctx);return isString(ret)||(ret=formatValue(ctx,ret,recurseTimes)),ret}var primitive=formatPrimitive(ctx,value);if(primitive)return primitive;var keys=Object.keys(value),visibleKeys=arrayToHash(keys);if(ctx.showHidden&&(keys=Object.getOwnPropertyNames(value)),isError(value)&&(0<=keys.indexOf('message')||0<=keys.indexOf('description')))return formatError(value);if(0===keys.length){if(isFunction(value)){var name=value.name?': '+value.name:'';return ctx.stylize('[Function'+name+']','special')}if(isRegExp(value))return ctx.stylize(RegExp.prototype.toString.call(value),'regexp');if(isDate(value))return ctx.stylize(Date.prototype.toString.call(value),'date');if(isError(value))return formatError(value)}var base='',array=!1,braces=['{','}'];if(isArray(value)&&(array=!0,braces=['[',']']),isFunction(value)){var n=value.name?': '+value.name:'';base=' [Function'+n+']'}if(isRegExp(value)&&(base=' '+RegExp.prototype.toString.call(value)),isDate(value)&&(base=' '+Date.prototype.toUTCString.call(value)),isError(value)&&(base=' '+formatError(value)),0===keys.length&&(!array||0==value.length))return braces[0]+base+braces[1];if(0>recurseTimes)return isRegExp(value)?ctx.stylize(RegExp.prototype.toString.call(value),'regexp'):ctx.stylize('[Object]','special');ctx.seen.push(value);var output;return output=array?formatArray(ctx,value,recurseTimes,visibleKeys,keys):keys.map(function(key){return formatProperty(ctx,value,recurseTimes,visibleKeys,key,array)}),ctx.seen.pop(),reduceToSingleString(output,base,braces)}function formatPrimitive(ctx,value){if(isUndefined(value))return ctx.stylize('undefined','undefined');if(isString(value)){var simple='\''+JSON.stringify(value).replace(/^"|"$/g,'').replace(/'/g,'\\\'').replace(/\\"/g,'"')+'\'';return ctx.stylize(simple,'string')}return isNumber(value)?ctx.stylize(''+value,'number'):isBoolean(value)?ctx.stylize(''+value,'boolean'):isNull(value)?ctx.stylize('null','null'):void 0}function formatError(value){return'['+Error.prototype.toString.call(value)+']'}function formatArray(ctx,value,recurseTimes,visibleKeys,keys){for(var output=[],i=0,l=value.length;i<l;++i)hasOwnProperty(value,i+'')?output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,i+'',!0)):output.push('');return keys.forEach(function(key){key.match(/^\d+$/)||output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,key,!0))}),output}function formatProperty(ctx,value,recurseTimes,visibleKeys,key,array){var name,str,desc;if(desc=Object.getOwnPropertyDescriptor(value,key)||{value:value[key]},desc.get?desc.set?str=ctx.stylize('[Getter/Setter]','special'):str=ctx.stylize('[Getter]','special'):desc.set&&(str=ctx.stylize('[Setter]','special')),hasOwnProperty(visibleKeys,key)||(name='['+key+']'),str||(0>ctx.seen.indexOf(desc.value)?(str=isNull(recurseTimes)?formatValue(ctx,desc.value,null):formatValue(ctx,desc.value,recurseTimes-1),-1<str.indexOf('\n')&&(array?str=str.split('\n').map(function(line){return'  '+line}).join('\n').substr(2):str='\n'+str.split('\n').map(function(line){return'   '+line}).join('\n'))):str=ctx.stylize('[Circular]','special')),isUndefined(name)){if(array&&key.match(/^\d+$/))return str;name=JSON.stringify(''+key),name.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(name=name.substr(1,name.length-2),name=ctx.stylize(name,'name')):(name=name.replace(/'/g,'\\\'').replace(/\\"/g,'"').replace(/(^"|"$)/g,'\''),name=ctx.stylize(name,'string'))}return name+': '+str}function reduceToSingleString(output,base,braces){var numLinesEst=0,length=output.reduce(function(prev,cur){return numLinesEst++,0<=cur.indexOf('\n')&&numLinesEst++,prev+cur.replace(/\u001b\[\d\d?m/g,'').length+1},0);return 60<length?braces[0]+(''===base?'':base+'\n ')+' '+output.join(',\n  ')+' '+braces[1]:braces[0]+base+' '+output.join(', ')+' '+braces[1]}function isArray(ar){return Array.isArray(ar)}function isBoolean(arg){return'boolean'==typeof arg}function isNull(arg){return null===arg}function isNumber(arg){return'number'==typeof arg}function isString(arg){return'string'==typeof arg}function isUndefined(arg){return void 0===arg}function isRegExp(re){return isObject(re)&&'[object RegExp]'===objectToString(re)}function isObject(arg){return'object'==typeof arg&&null!==arg}function isDate(d){return isObject(d)&&'[object Date]'===objectToString(d)}function isError(e){return isObject(e)&&('[object Error]'===objectToString(e)||e instanceof Error)}function isFunction(arg){return'function'==typeof arg}function objectToString(o){return Object.prototype.toString.call(o)}function pad(n){return 10>n?'0'+n.toString(10):n.toString(10)}function timestamp(){var d=new Date,time=[pad(d.getHours()),pad(d.getMinutes()),pad(d.getSeconds())].join(':');return[d.getDate(),months[d.getMonth()],time].join(' ')}function hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}function callbackifyOnRejected(reason,cb){if(!reason){var newReason=new Error('Promise was rejected with a falsy value');newReason.reason=reason,reason=newReason}return cb(reason)}var getOwnPropertyDescriptors=Object.getOwnPropertyDescriptors||function(obj){for(var keys=Object.keys(obj),descriptors={},i=0;i<keys.length;i++)descriptors[keys[i]]=Object.getOwnPropertyDescriptor(obj,keys[i]);return descriptors},formatRegExp=/%[sdj%]/g;exports.format=function(f){if(!isString(f)){for(var objects=[],i=0;i<arguments.length;i++)objects.push(inspect(arguments[i]));return objects.join(' ')}for(var i=1,args=arguments,len=args.length,str=(f+'').replace(formatRegExp,function(x){if('%%'===x)return'%';if(i>=len)return x;switch(x){case'%s':return args[i++]+'';case'%d':return+args[i++];case'%j':try{return JSON.stringify(args[i++])}catch(_){return'[Circular]'}default:return x;}}),x=args[i];i<len;x=args[++i])str+=isNull(x)||!isObject(x)?' '+x:' '+inspect(x);return str},exports.deprecate=function(fn,msg){function deprecated(){if(!warned){if(process.throwDeprecation)throw new Error(msg);else process.traceDeprecation?console.trace(msg):console.error(msg);warned=!0}return fn.apply(this,arguments)}if('undefined'!=typeof process&&!0===process.noDeprecation)return fn;if('undefined'==typeof process)return function(){return exports.deprecate(fn,msg).apply(this,arguments)};var warned=!1;return deprecated};var debugEnviron,debugs={};exports.debuglog=function(set){if(isUndefined(debugEnviron)&&(debugEnviron=process.env.NODE_DEBUG||''),set=set.toUpperCase(),!debugs[set])if(new RegExp('\\b'+set+'\\b','i').test(debugEnviron)){var pid=process.pid;debugs[set]=function(){var msg=exports.format.apply(exports,arguments);console.error('%s %d: %s',set,pid,msg)}}else debugs[set]=function(){};return debugs[set]},exports.inspect=inspect,inspect.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},inspect.styles={special:'cyan',number:'yellow',boolean:'yellow',undefined:'grey',null:'bold',string:'green',date:'magenta',regexp:'red'},exports.isArray=isArray,exports.isBoolean=isBoolean,exports.isNull=isNull,exports.isNullOrUndefined=function(arg){return null==arg},exports.isNumber=isNumber,exports.isString=isString,exports.isSymbol=function(arg){return'symbol'==typeof arg},exports.isUndefined=isUndefined,exports.isRegExp=isRegExp,exports.isObject=isObject,exports.isDate=isDate,exports.isError=isError,exports.isFunction=isFunction,exports.isPrimitive=function(arg){return null===arg||'boolean'==typeof arg||'number'==typeof arg||'string'==typeof arg||'symbol'==typeof arg||'undefined'==typeof arg},exports.isBuffer=__webpack_require__(40);var months=['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];exports.log=function(){console.log('%s - %s',timestamp(),exports.format.apply(exports,arguments))},exports.inherits=__webpack_require__(41),exports._extend=function(origin,add){if(!add||!isObject(add))return origin;for(var keys=Object.keys(add),i=keys.length;i--;)origin[keys[i]]=add[keys[i]];return origin};var kCustomPromisifiedSymbol='undefined'==typeof Symbol?void 0:Symbol('util.promisify.custom');exports.promisify=function(original){function fn(){for(var promiseResolve,promiseReject,promise=new Promise(function(resolve,reject){promiseResolve=resolve,promiseReject=reject}),args=[],i=0;i<arguments.length;i++)args.push(arguments[i]);args.push(function(err,value){err?promiseReject(err):promiseResolve(value)});try{original.apply(this,args)}catch(err){promiseReject(err)}return promise}if('function'!=typeof original)throw new TypeError('The "original" argument must be of type Function');if(kCustomPromisifiedSymbol&&original[kCustomPromisifiedSymbol]){var fn=original[kCustomPromisifiedSymbol];if('function'!=typeof fn)throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(fn,kCustomPromisifiedSymbol,{value:fn,enumerable:!1,writable:!1,configurable:!0}),fn}return Object.setPrototypeOf(fn,Object.getPrototypeOf(original)),kCustomPromisifiedSymbol&&Object.defineProperty(fn,kCustomPromisifiedSymbol,{value:fn,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(fn,getOwnPropertyDescriptors(original))},exports.promisify.custom=kCustomPromisifiedSymbol,exports.callbackify=function(original){function callbackified(){for(var args=[],i=0;i<arguments.length;i++)args.push(arguments[i]);var maybeCb=args.pop();if('function'!=typeof maybeCb)throw new TypeError('The last argument must be of type Function');var self=this,cb=function(){return maybeCb.apply(self,arguments)};original.apply(this,args).then(function(ret){process.nextTick(cb,null,ret)},function(rej){process.nextTick(callbackifyOnRejected,rej,cb)})}if('function'!=typeof original)throw new TypeError('The "original" argument must be of type Function');return Object.setPrototypeOf(callbackified,Object.getPrototypeOf(original)),Object.defineProperties(callbackified,getOwnPropertyDescriptors(original)),callbackified}}).call(this,__webpack_require__(10))},function(module,exports){'use strict';Object.defineProperty(exports,'__esModule',{value:!0}),exports.getError=void 0;class ArweaveError extends Error{constructor(type,optional={}){optional.message?super(optional.message):super(),this.type=type,this.response=optional.response}getType(){return this.type}}exports.default=ArweaveError,exports.getError=function(resp){let data=resp.data;if('string'==typeof resp.data)try{data=JSON.parse(resp.data)}catch(e){}if(resp.data instanceof ArrayBuffer||resp.data instanceof Uint8Array)try{data=JSON.parse(data.toString())}catch(e){}return data?data.error||data:resp.statusText||'unknown'}},function(module,exports,__webpack_require__){'use strict';Object.defineProperty(exports,'__esModule',{value:!0}),exports.Tag=void 0;const ArweaveUtils=__webpack_require__(1),deepHash_1=__webpack_require__(42),merkle_1=__webpack_require__(16);class BaseObject{get(field,options){if(!Object.getOwnPropertyNames(this).includes(field))throw new Error(`Field "${field}" is not a property of the Arweave Transaction class.`);return this[field]instanceof Uint8Array?options&&options.decode&&options.string?ArweaveUtils.bufferToString(this[field]):options&&options.decode&&!options.string?this[field]:ArweaveUtils.bufferTob64Url(this[field]):options&&!0==options.decode?options&&options.string?ArweaveUtils.b64UrlToString(this[field]):ArweaveUtils.b64UrlToBuffer(this[field]):this[field]}}class Tag extends BaseObject{constructor(name,value,decode=!1){super(),this.name=name,this.value=value}}exports.Tag=Tag;exports.default=class extends BaseObject{constructor(attributes={}){super(),this.format=2,this.id='',this.last_tx='',this.owner='',this.tags=[],this.target='',this.quantity='0',this.data_size='0',this.data=new Uint8Array,this.data_root='',this.reward='0',this.signature='',Object.assign(this,attributes),'string'==typeof this.data&&(this.data=ArweaveUtils.b64UrlToBuffer(this.data)),attributes.tags&&(this.tags=attributes.tags.map(tag=>new Tag(tag.name,tag.value)))}addTag(name,value){this.tags.push(new Tag(ArweaveUtils.stringToB64Url(name),ArweaveUtils.stringToB64Url(value)))}toJSON(){return{format:this.format,id:this.id,last_tx:this.last_tx,owner:this.owner,tags:this.tags,target:this.target,quantity:this.quantity,data:ArweaveUtils.bufferTob64Url(this.data),data_size:this.data_size,data_root:this.data_root,data_tree:this.data_tree,reward:this.reward,signature:this.signature}}setSignature({signature,id}){this.signature=signature,this.id=id}async prepareChunks(data){!this.chunks&&0<data.byteLength&&(this.chunks=await merkle_1.generateTransactionChunks(data),this.data_root=ArweaveUtils.bufferTob64Url(this.chunks.data_root)),this.chunks||0!==data.byteLength||(this.chunks={chunks:[],data_root:new Uint8Array,proofs:[]},this.data_root='')}getChunk(idx,data){if(!this.chunks)throw new Error(`Chunks have not been prepared`);const proof=this.chunks.proofs[idx],chunk=this.chunks.chunks[idx];return{data_root:this.data_root,data_size:this.data_size,data_path:ArweaveUtils.bufferTob64Url(proof.proof),offset:proof.offset.toString(),chunk:ArweaveUtils.bufferTob64Url(data.slice(chunk.minByteRange,chunk.maxByteRange))}}async getSignatureData(){switch(this.format){case 1:let tagString=this.tags.reduce((accumulator,tag)=>accumulator+tag.get('name',{decode:!0,string:!0})+tag.get('value',{decode:!0,string:!0}),'');return ArweaveUtils.concatBuffers([this.get('owner',{decode:!0,string:!1}),this.get('target',{decode:!0,string:!1}),this.get('data',{decode:!0,string:!1}),ArweaveUtils.stringToBuffer(this.quantity),ArweaveUtils.stringToBuffer(this.reward),this.get('last_tx',{decode:!0,string:!1}),ArweaveUtils.stringToBuffer(tagString)]);case 2:await this.prepareChunks(this.data);const tagList=this.tags.map(tag=>[tag.get('name',{decode:!0,string:!1}),tag.get('value',{decode:!0,string:!1})]);return await deepHash_1.default([ArweaveUtils.stringToBuffer(this.format.toString()),this.get('owner',{decode:!0,string:!1}),this.get('target',{decode:!0,string:!1}),ArweaveUtils.stringToBuffer(this.quantity),ArweaveUtils.stringToBuffer(this.reward),this.get('last_tx',{decode:!0,string:!1}),tagList,ArweaveUtils.stringToBuffer(this.data_size),this.get('data_root',{decode:!0,string:!1})]);default:throw new Error(`Unexpected transaction format: ${this.format}`);}}}},function(module){'use strict';module.exports=function(fn,thisArg){return function(){for(var args=Array(arguments.length),i=0;i<args.length;i++)args[i]=arguments[i];return fn.apply(thisArg,args)}}},function(module,exports,__webpack_require__){'use strict';function encode(val){return encodeURIComponent(val).replace(/%40/gi,'@').replace(/%3A/gi,':').replace(/%24/g,'$').replace(/%2C/gi,',').replace(/%20/g,'+').replace(/%5B/gi,'[').replace(/%5D/gi,']')}var utils=__webpack_require__(0);module.exports=function(url,params,paramsSerializer){if(!params)return url;var serializedParams;if(paramsSerializer)serializedParams=paramsSerializer(params);else if(utils.isURLSearchParams(params))serializedParams=params.toString();else{var parts=[];utils.forEach(params,function(val,key){null===val||'undefined'==typeof val||(utils.isArray(val)?key+='[]':val=[val],utils.forEach(val,function(v){utils.isDate(v)?v=v.toISOString():utils.isObject(v)&&(v=JSON.stringify(v)),parts.push(encode(key)+'='+encode(v))}))}),serializedParams=parts.join('&')}if(serializedParams){var hashmarkIndex=url.indexOf('#');-1!==hashmarkIndex&&(url=url.slice(0,hashmarkIndex)),url+=(-1===url.indexOf('?')?'?':'&')+serializedParams}return url}},function(module){'use strict';module.exports=function(value){return!!(value&&value.__CANCEL__)}},function(module,exports,__webpack_require__){'use strict';(function(process){function setContentTypeIfUnset(headers,value){!utils.isUndefined(headers)&&utils.isUndefined(headers['Content-Type'])&&(headers['Content-Type']=value)}var utils=__webpack_require__(0),normalizeHeaderName=__webpack_require__(27),DEFAULT_CONTENT_TYPE={"Content-Type":'application/x-www-form-urlencoded'},defaults={adapter:function(){var adapter;return'undefined'==typeof XMLHttpRequest?'undefined'!=typeof process&&'[object process]'===Object.prototype.toString.call(process)&&(adapter=__webpack_require__(11)):adapter=__webpack_require__(11),adapter}(),transformRequest:[function(data,headers){return normalizeHeaderName(headers,'Accept'),normalizeHeaderName(headers,'Content-Type'),utils.isFormData(data)||utils.isArrayBuffer(data)||utils.isBuffer(data)||utils.isStream(data)||utils.isFile(data)||utils.isBlob(data)?data:utils.isArrayBufferView(data)?data.buffer:utils.isURLSearchParams(data)?(setContentTypeIfUnset(headers,'application/x-www-form-urlencoded;charset=utf-8'),data.toString()):utils.isObject(data)?(setContentTypeIfUnset(headers,'application/json;charset=utf-8'),JSON.stringify(data)):data}],transformResponse:[function(data){if('string'==typeof data)try{data=JSON.parse(data)}catch(e){}return data}],timeout:0,xsrfCookieName:'XSRF-TOKEN',xsrfHeaderName:'X-XSRF-TOKEN',maxContentLength:-1,validateStatus:function(status){return 200<=status&&300>status}};defaults.headers={common:{Accept:'application/json, text/plain, */*'}},utils.forEach(['delete','get','head'],function(method){defaults.headers[method]={}}),utils.forEach(['post','put','patch'],function(method){defaults.headers[method]=utils.merge(DEFAULT_CONTENT_TYPE)}),module.exports=defaults}).call(this,__webpack_require__(10))},function(module){function defaultSetTimout(){throw new Error('setTimeout has not been defined')}function defaultClearTimeout(){throw new Error('clearTimeout has not been defined')}function runTimeout(fun){if(cachedSetTimeout===setTimeout)return setTimeout(fun,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(fun,0);try{return cachedSetTimeout(fun,0)}catch(e){try{return cachedSetTimeout.call(null,fun,0)}catch(e){return cachedSetTimeout.call(this,fun,0)}}}function runClearTimeout(marker){if(cachedClearTimeout===clearTimeout)return clearTimeout(marker);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(marker);try{return cachedClearTimeout(marker)}catch(e){try{return cachedClearTimeout.call(null,marker)}catch(e){return cachedClearTimeout.call(this,marker)}}}function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var timeout=runTimeout(cleanUpNextTick);draining=!0;for(var len=queue.length;len;){for(currentQueue=queue,queue=[];++queueIndex<len;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,len=queue.length}currentQueue=null,draining=!1,runClearTimeout(timeout)}}function Item(fun,array){this.fun=fun,this.array=array}function noop(){}var cachedSetTimeout,cachedClearTimeout,process=module.exports={};(function(){try{cachedSetTimeout='function'==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){cachedSetTimeout=defaultSetTimout}try{cachedClearTimeout='function'==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){cachedClearTimeout=defaultClearTimeout}})();var currentQueue,queue=[],draining=!1,queueIndex=-1;process.nextTick=function(fun){var args=Array(arguments.length-1);if(1<arguments.length)for(var i=1;i<arguments.length;i++)args[i-1]=arguments[i];queue.push(new Item(fun,args)),1!==queue.length||draining||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title='browser',process.browser=!0,process.env={},process.argv=[],process.version='',process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.prependListener=noop,process.prependOnceListener=noop,process.listeners=function(){return[]},process.binding=function(){throw new Error('process.binding is not supported')},process.cwd=function(){return'/'},process.chdir=function(){throw new Error('process.chdir is not supported')},process.umask=function(){return 0}},function(module,exports,__webpack_require__){'use strict';var utils=__webpack_require__(0),settle=__webpack_require__(28),buildURL=__webpack_require__(7),buildFullPath=__webpack_require__(30),parseHeaders=__webpack_require__(33),isURLSameOrigin=__webpack_require__(34),createError=__webpack_require__(12);module.exports=function(config){return new Promise(function(resolve,reject){var requestData=config.data,requestHeaders=config.headers;utils.isFormData(requestData)&&delete requestHeaders['Content-Type'];var request=new XMLHttpRequest;if(config.auth){var username=config.auth.username||'',password=config.auth.password||'';requestHeaders.Authorization='Basic '+btoa(username+':'+password)}var fullPath=buildFullPath(config.baseURL,config.url);if(request.open(config.method.toUpperCase(),buildURL(fullPath,config.params,config.paramsSerializer),!0),request.timeout=config.timeout,request.onreadystatechange=function(){if(request&&4===request.readyState&&(0!==request.status||request.responseURL&&0===request.responseURL.indexOf('file:'))){var responseHeaders='getAllResponseHeaders'in request?parseHeaders(request.getAllResponseHeaders()):null,responseData=config.responseType&&'text'!==config.responseType?request.response:request.responseText,response={data:responseData,status:request.status,statusText:request.statusText,headers:responseHeaders,config:config,request:request};settle(resolve,reject,response),request=null}},request.onabort=function(){request&&(reject(createError('Request aborted',config,'ECONNABORTED',request)),request=null)},request.onerror=function(){reject(createError('Network Error',config,null,request)),request=null},request.ontimeout=function(){var timeoutErrorMessage='timeout of '+config.timeout+'ms exceeded';config.timeoutErrorMessage&&(timeoutErrorMessage=config.timeoutErrorMessage),reject(createError(timeoutErrorMessage,config,'ECONNABORTED',request)),request=null},utils.isStandardBrowserEnv()){var cookies=__webpack_require__(35),xsrfValue=(config.withCredentials||isURLSameOrigin(fullPath))&&config.xsrfCookieName?cookies.read(config.xsrfCookieName):void 0;xsrfValue&&(requestHeaders[config.xsrfHeaderName]=xsrfValue)}if('setRequestHeader'in request&&utils.forEach(requestHeaders,function(val,key){'undefined'==typeof requestData&&'content-type'===key.toLowerCase()?delete requestHeaders[key]:request.setRequestHeader(key,val)}),utils.isUndefined(config.withCredentials)||(request.withCredentials=!!config.withCredentials),config.responseType)try{request.responseType=config.responseType}catch(e){if('json'!==config.responseType)throw e}'function'==typeof config.onDownloadProgress&&request.addEventListener('progress',config.onDownloadProgress),'function'==typeof config.onUploadProgress&&request.upload&&request.upload.addEventListener('progress',config.onUploadProgress),config.cancelToken&&config.cancelToken.promise.then(function(cancel){request&&(request.abort(),reject(cancel),request=null)}),void 0===requestData&&(requestData=null),request.send(requestData)})}},function(module,exports,__webpack_require__){'use strict';var enhanceError=__webpack_require__(29);module.exports=function(message,config,code,request,response){var error=new Error(message);return enhanceError(error,config,code,request,response)}},function(module,exports,__webpack_require__){'use strict';var utils=__webpack_require__(0);module.exports=function(config1,config2){config2=config2||{};var config={},valueFromConfig2Keys=['url','method','params','data'],mergeDeepPropertiesKeys=['headers','auth','proxy'],defaultToConfig2Keys=['baseURL','url','transformRequest','transformResponse','paramsSerializer','timeout','withCredentials','adapter','responseType','xsrfCookieName','xsrfHeaderName','onUploadProgress','onDownloadProgress','maxContentLength','validateStatus','maxRedirects','httpAgent','httpsAgent','cancelToken','socketPath'];utils.forEach(valueFromConfig2Keys,function(prop){'undefined'!=typeof config2[prop]&&(config[prop]=config2[prop])}),utils.forEach(mergeDeepPropertiesKeys,function(prop){utils.isObject(config2[prop])?config[prop]=utils.deepMerge(config1[prop],config2[prop]):'undefined'==typeof config2[prop]?utils.isObject(config1[prop])?config[prop]=utils.deepMerge(config1[prop]):'undefined'!=typeof config1[prop]&&(config[prop]=config1[prop]):config[prop]=config2[prop]}),utils.forEach(defaultToConfig2Keys,function(prop){'undefined'==typeof config2[prop]?'undefined'!=typeof config1[prop]&&(config[prop]=config1[prop]):config[prop]=config2[prop]});var axiosKeys=valueFromConfig2Keys.concat(mergeDeepPropertiesKeys).concat(defaultToConfig2Keys),otherKeys=Object.keys(config2).filter(function(key){return-1===axiosKeys.indexOf(key)});return utils.forEach(otherKeys,function(prop){'undefined'==typeof config2[prop]?'undefined'!=typeof config1[prop]&&(config[prop]=config1[prop]):config[prop]=config2[prop]}),config}},function(module){'use strict';function Cancel(message){this.message=message}Cancel.prototype.toString=function(){return'Cancel'+(this.message?': '+this.message:'')},Cancel.prototype.__CANCEL__=!0,module.exports=Cancel},function(module,exports){'use strict';function getLens(b64){var len=b64.length;if(0<len%4)throw new Error('Invalid string. Length must be a multiple of 4');var validLen=b64.indexOf('=');-1===validLen&&(validLen=len);var placeHoldersLen=validLen===len?0:4-validLen%4;return[validLen,placeHoldersLen]}function _byteLength(b64,validLen,placeHoldersLen){return 3*(validLen+placeHoldersLen)/4-placeHoldersLen}function toByteArray(b64){var tmp,i,lens=getLens(b64),validLen=lens[0],placeHoldersLen=lens[1],arr=new Arr(_byteLength(b64,validLen,placeHoldersLen)),curByte=0,len=0<placeHoldersLen?validLen-4:validLen;for(i=0;i<len;i+=4)tmp=revLookup[b64.charCodeAt(i)]<<18|revLookup[b64.charCodeAt(i+1)]<<12|revLookup[b64.charCodeAt(i+2)]<<6|revLookup[b64.charCodeAt(i+3)],arr[curByte++]=255&tmp>>16,arr[curByte++]=255&tmp>>8,arr[curByte++]=255&tmp;return 2===placeHoldersLen&&(tmp=revLookup[b64.charCodeAt(i)]<<2|revLookup[b64.charCodeAt(i+1)]>>4,arr[curByte++]=255&tmp),1===placeHoldersLen&&(tmp=revLookup[b64.charCodeAt(i)]<<10|revLookup[b64.charCodeAt(i+1)]<<4|revLookup[b64.charCodeAt(i+2)]>>2,arr[curByte++]=255&tmp>>8,arr[curByte++]=255&tmp),arr}function tripletToBase64(num){return lookup[63&num>>18]+lookup[63&num>>12]+lookup[63&num>>6]+lookup[63&num]}function encodeChunk(uint8,start,end){for(var tmp,output=[],i=start;i<end;i+=3)tmp=(16711680&uint8[i]<<16)+(65280&uint8[i+1]<<8)+(255&uint8[i+2]),output.push(tripletToBase64(tmp));return output.join('')}function fromByteArray(uint8){for(var tmp,len=uint8.length,extraBytes=len%3,parts=[],maxChunkLength=16383,i=0,len2=len-extraBytes;i<len2;i+=maxChunkLength)parts.push(encodeChunk(uint8,i,i+maxChunkLength>len2?len2:i+maxChunkLength));return 1==extraBytes?(tmp=uint8[len-1],parts.push(lookup[tmp>>2]+lookup[63&tmp<<4]+'==')):2==extraBytes&&(tmp=(uint8[len-2]<<8)+uint8[len-1],parts.push(lookup[tmp>>10]+lookup[63&tmp>>4]+lookup[63&tmp<<2]+'=')),parts.join('')}exports.byteLength=function(b64){var lens=getLens(b64),validLen=lens[0],placeHoldersLen=lens[1];return 3*(validLen+placeHoldersLen)/4-placeHoldersLen},exports.toByteArray=toByteArray,exports.fromByteArray=fromByteArray;for(var lookup=[],revLookup=[],Arr='undefined'==typeof Uint8Array?Array:Uint8Array,code='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',i=0,len=code.length;i<len;++i)lookup[i]=code[i],revLookup[code.charCodeAt(i)]=i;revLookup[45]=62,revLookup[95]=63},function(module,exports,__webpack_require__){'use strict';(function(Buffer){async function chunkData(data){let chunks=[],rest=data,cursor=0;for(;rest.byteLength>=exports.MAX_CHUNK_SIZE;){let chunkSize=exports.MAX_CHUNK_SIZE,nextChunkSize=rest.byteLength-exports.MAX_CHUNK_SIZE;0<nextChunkSize&&nextChunkSize<exports.MIN_CHUNK_SIZE&&(chunkSize=Math.ceil(rest.byteLength/2));const chunk=rest.slice(0,chunkSize),dataHash=await common_1.default.crypto.hash(chunk);cursor+=chunk.byteLength,chunks.push({dataHash,minByteRange:cursor-chunk.byteLength,maxByteRange:cursor}),rest=rest.slice(chunkSize)}return chunks.push({dataHash:await common_1.default.crypto.hash(rest),minByteRange:cursor,maxByteRange:cursor+rest.byteLength}),chunks}async function generateLeaves(chunks){return Promise.all(chunks.map(async({dataHash,minByteRange,maxByteRange})=>({type:'leaf',id:await hash((await Promise.all([hash(dataHash),hash(intToBuffer(maxByteRange))]))),dataHash:dataHash,minByteRange,maxByteRange})))}async function generateTree(data){const rootNode=await buildLayers((await generateLeaves((await chunkData(data)))));return rootNode}async function buildLayers(nodes,level=0){if(2>nodes.length){const root=await hashBranch(nodes[0],nodes[1]);return root}const nextLayer=[];for(let i=0;i<nodes.length;i+=2)nextLayer.push((await hashBranch(nodes[i],nodes[i+1])));return buildLayers(nextLayer,level+1)}function generateProofs(root){const proofs=resolveBranchProofs(root);return Array.isArray(proofs)?arrayFlatten(proofs):[proofs]}function resolveBranchProofs(node,proof=new Uint8Array,depth=0){if('leaf'==node.type)return{offset:node.maxByteRange-1,proof:utils_1.concatBuffers([proof,node.dataHash,intToBuffer(node.maxByteRange)])};if('branch'==node.type){const partialProof=utils_1.concatBuffers([proof,node.leftChild.id,node.rightChild.id,intToBuffer(node.byteRange)]);return[resolveBranchProofs(node.leftChild,partialProof,depth+1),resolveBranchProofs(node.rightChild,partialProof,depth+1)]}throw new Error(`Unexpected node type`)}function arrayFlatten(input){const flat=[];return input.forEach(item=>{Array.isArray(item)?flat.push(...arrayFlatten(item)):flat.push(item)}),flat}async function hashBranch(left,right){if(!right)return left;let branch={type:'branch',id:await hash([await hash(left.id),await hash(right.id),await hash(intToBuffer(left.maxByteRange))]),byteRange:left.maxByteRange,maxByteRange:right.maxByteRange,leftChild:left,rightChild:right};return branch}async function hash(data){return Array.isArray(data)&&(data=common_1.default.utils.concatBuffers(data)),new Uint8Array((await common_1.default.crypto.hash(data)))}function intToBuffer(note){const buffer=new Uint8Array(NOTE_SIZE);for(var byte,i=buffer.length-1;0<=i;i--)byte=note%256,buffer[i]=byte,note=(note-byte)/256;return buffer}function bufferToInt(buffer){let value=0;for(var i=0;i<buffer.length;i++)value*=256,value+=buffer[i];return value}async function validatePath(id,dest,leftBound,rightBound,path){if(0>=rightBound)return!1;if(dest>=rightBound)return validatePath(id,0,rightBound-1,rightBound,path);if(0>dest)return validatePath(id,0,0,rightBound,path);if(path.length==HASH_SIZE+NOTE_SIZE){const pathData=path.slice(0,HASH_SIZE),endOffsetBuffer=path.slice(pathData.length,pathData.length+NOTE_SIZE),pathDataHash=await hash([await hash(pathData),await hash(endOffsetBuffer)]);let result=exports.arrayCompare(id,pathDataHash);return!!result&&{offset:rightBound-1,leftBound:leftBound,rightBound:rightBound,chunkSize:rightBound-leftBound}}const left=path.slice(0,HASH_SIZE),right=path.slice(left.length,left.length+HASH_SIZE),offsetBuffer=path.slice(left.length+right.length,left.length+right.length+NOTE_SIZE),offset=bufferToInt(offsetBuffer),remainder=path.slice(left.length+right.length+offsetBuffer.length),pathHash=await hash([await hash(left),await hash(right),await hash(offsetBuffer)]);return!!exports.arrayCompare(id,pathHash)&&(dest<offset?await validatePath(left,dest,leftBound,Math.min(rightBound,offset),remainder):await validatePath(right,dest,Math.max(leftBound,offset),rightBound,remainder))}async function debug(proof,output=''){if(1>proof.byteLength)return output;const left=proof.slice(0,HASH_SIZE),right=proof.slice(left.length,left.length+HASH_SIZE),offsetBuffer=proof.slice(left.length+right.length,left.length+right.length+NOTE_SIZE),offset=bufferToInt(offsetBuffer),remainder=proof.slice(left.length+right.length+offsetBuffer.length),pathHash=await hash([await hash(left),await hash(right),await hash(offsetBuffer)]),updatedOutput=`${output}\n${util_1.inspect(Buffer.from(left))},${util_1.inspect(Buffer.from(right))},${offset} => ${util_1.inspect(pathHash)}`;return debug(remainder,updatedOutput)}Object.defineProperty(exports,'__esModule',{value:!0}),exports.debug=exports.validatePath=exports.arrayCompare=exports.bufferToInt=exports.intToBuffer=exports.arrayFlatten=exports.generateProofs=exports.buildLayers=exports.generateTransactionChunks=exports.generateTree=exports.computeRootHash=exports.generateLeaves=exports.chunkData=exports.MIN_CHUNK_SIZE=exports.MAX_CHUNK_SIZE=void 0;const common_1=__webpack_require__(2),utils_1=__webpack_require__(1),util_1=__webpack_require__(3);exports.MAX_CHUNK_SIZE=262144,exports.MIN_CHUNK_SIZE=32768;const NOTE_SIZE=32,HASH_SIZE=32;exports.chunkData=chunkData,exports.generateLeaves=generateLeaves,exports.computeRootHash=async function(data){const rootNode=await generateTree(data);return rootNode.id},exports.generateTree=generateTree,exports.generateTransactionChunks=async function(data){const chunks=await chunkData(data),leaves=await generateLeaves(chunks),root=await buildLayers(leaves),proofs=await generateProofs(root),lastChunk=chunks.slice(-1)[0];return 0==lastChunk.maxByteRange-lastChunk.minByteRange&&(chunks.splice(chunks.length-1,1),proofs.splice(proofs.length-1,1)),{data_root:root.id,chunks,proofs}},exports.buildLayers=buildLayers,exports.generateProofs=generateProofs,exports.arrayFlatten=arrayFlatten,exports.intToBuffer=intToBuffer,exports.bufferToInt=bufferToInt,exports.arrayCompare=(a,b)=>a.every((value,index)=>b[index]===value),exports.validatePath=validatePath,exports.debug=debug}).call(this,__webpack_require__(43).Buffer)},function(module,exports,__webpack_require__){'use strict';var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){k2===void 0&&(k2=k),Object.defineProperty(o,k2,{enumerable:!0,get:function(){return m[k]}})}:function(o,m,k,k2){k2===void 0&&(k2=k),o[k2]=m[k]}),__exportStar=this&&this.__exportStar||function(m,exports){for(var p in m)'default'===p||exports.hasOwnProperty(p)||__createBinding(exports,m,p)};Object.defineProperty(exports,'__esModule',{value:!0});const common_1=__webpack_require__(2),webcrypto_driver_1=__webpack_require__(51);common_1.default.crypto=new webcrypto_driver_1.default,common_1.default.init=function(apiConfig={}){const defaultConfig=function(){const defaults={host:'arweave.net',port:443,protocol:'https'};if(!window||!window.location||!window.location.protocol||!window.location.hostname)return defaults;const currentProtocol=window.location.protocol.replace(':',''),currentHost=window.location.hostname,currentPort=window.location.port?parseInt(window.location.port):'https'==currentProtocol?443:80,isLocal=['localhost','127.0.0.1'].includes(currentHost)||'file'==currentProtocol;return isLocal?defaults:{host:currentHost,port:currentPort,protocol:currentProtocol}}(),protocol=apiConfig.protocol||defaultConfig.protocol,host=apiConfig.host||defaultConfig.host,port=apiConfig.port||defaultConfig.port;return new common_1.default(Object.assign(Object.assign({},apiConfig),{host,protocol,port}))},window.Arweave=common_1.default,__exportStar(__webpack_require__(2),exports),exports.default=common_1.default},function(module,exports,__webpack_require__){'use strict';Object.defineProperty(exports,'__esModule',{value:!0});const bignumber_js_1=__webpack_require__(19);exports.default=class{constructor(){this.BigNum=(value,decimals)=>{let instance=bignumber_js_1.BigNumber.clone({DECIMAL_PLACES:decimals});return new instance(value)}}winstonToAr(winstonString,{formatted=!1,decimals=12,trim=!0}={}){let number=this.stringToBigNum(winstonString,decimals).shiftedBy(-12);return formatted?number.toFormat(decimals):number.toFixed(decimals)}arToWinston(arString,{formatted=!1}={}){let number=this.stringToBigNum(arString).shiftedBy(12);return formatted?number.toFormat():number.toFixed(0)}compare(winstonStringA,winstonStringB){let a=this.stringToBigNum(winstonStringA),b=this.stringToBigNum(winstonStringB);return a.comparedTo(b)}isEqual(winstonStringA,winstonStringB){return 0===this.compare(winstonStringA,winstonStringB)}isLessThan(winstonStringA,winstonStringB){let a=this.stringToBigNum(winstonStringA),b=this.stringToBigNum(winstonStringB);return a.isLessThan(b)}isGreaterThan(winstonStringA,winstonStringB){let a=this.stringToBigNum(winstonStringA),b=this.stringToBigNum(winstonStringB);return a.isGreaterThan(b)}add(winstonStringA,winstonStringB){let a=this.stringToBigNum(winstonStringA),b=this.stringToBigNum(winstonStringB);return a.plus(winstonStringB).toFixed(0)}sub(winstonStringA,winstonStringB){let a=this.stringToBigNum(winstonStringA),b=this.stringToBigNum(winstonStringB);return a.minus(winstonStringB).toFixed(0)}stringToBigNum(stringValue,decimalPlaces=12){return this.BigNum(stringValue,decimalPlaces)}}},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;(function(){'use strict';function clone(configObject){function BigNumber(v,b){var alphabet,c,caseChanged,e,i,isNum,len,str,x=this;if(!(x instanceof BigNumber))return new BigNumber(v,b);if(null==b){if(v&&!0===v._isBigNumber)return x.s=v.s,void(!v.c||v.e>MAX_EXP?x.c=x.e=null:v.e<MIN_EXP?x.c=[x.e=0]:(x.e=v.e,x.c=v.c.slice()));if((isNum='number'==typeof v)&&0==0*v){if(x.s=0>1/v?(v=-v,-1):1,v===~~v){for(e=0,i=v;10<=i;i/=10,e++);return void(e>MAX_EXP?x.c=x.e=null:(x.e=e,x.c=[v]))}str=v+''}else{if(!isNumeric.test(str=v+''))return parseNumeric(x,str,isNum);x.s=45==str.charCodeAt(0)?(str=str.slice(1),-1):1}-1<(e=str.indexOf('.'))&&(str=str.replace('.','')),0<(i=str.search(/e/i))?(0>e&&(e=i),e+=+str.slice(i+1),str=str.substring(0,i)):0>e&&(e=str.length)}else{if(intCheck(b,2,ALPHABET.length,'Base'),10==b)return x=new BigNumber(v),round(x,DECIMAL_PLACES+x.e+1,ROUNDING_MODE);if(str=v+'',isNum='number'==typeof v){if(0!=0*v)return parseNumeric(x,str,isNum,b);if(x.s=0>1/v?(str=str.slice(1),-1):1,BigNumber.DEBUG&&15<str.replace(/^0\.0*|\./,'').length)throw Error(tooManyDigits+v)}else x.s=45===str.charCodeAt(0)?(str=str.slice(1),-1):1;for(alphabet=ALPHABET.slice(0,b),e=i=0,len=str.length;i<len;i++)if(0>alphabet.indexOf(c=str.charAt(i))){if('.'==c){if(i>e){e=len;continue}}else if(!caseChanged&&(str==str.toUpperCase()&&(str=str.toLowerCase())||str==str.toLowerCase()&&(str=str.toUpperCase()))){caseChanged=!0,i=-1,e=0;continue}return parseNumeric(x,v+'',isNum,b)}isNum=!1,str=convertBase(str,b,10,x.s),-1<(e=str.indexOf('.'))?str=str.replace('.',''):e=str.length}for(i=0;48===str.charCodeAt(i);i++);for(len=str.length;48===str.charCodeAt(--len););if(str=str.slice(i,++len)){if(len-=i,isNum&&BigNumber.DEBUG&&15<len&&(v>MAX_SAFE_INTEGER||v!==mathfloor(v)))throw Error(tooManyDigits+x.s*v);if((e=e-i-1)>MAX_EXP)x.c=x.e=null;else if(e<MIN_EXP)x.c=[x.e=0];else{if(x.e=e,x.c=[],i=(e+1)%LOG_BASE,0>e&&(i+=LOG_BASE),i<len){for(i&&x.c.push(+str.slice(0,i)),len-=LOG_BASE;i<len;)x.c.push(+str.slice(i,i+=LOG_BASE));i=LOG_BASE-(str=str.slice(i)).length}else i-=len;for(;i--;str+='0');x.c.push(+str)}}else x.c=[x.e=0]}function format(n,i,rm,id){var c0,e,ne,len,str;if(null==rm?rm=ROUNDING_MODE:intCheck(rm,0,8),!n.c)return n.toString();if(c0=n.c[0],ne=n.e,null==i)str=coeffToString(n.c),str=1==id||2==id&&(ne<=TO_EXP_NEG||ne>=TO_EXP_POS)?toExponential(str,ne):toFixedPoint(str,ne,'0');else if(n=round(new BigNumber(n),i,rm),e=n.e,str=coeffToString(n.c),len=str.length,1==id||2==id&&(i<=e||e<=TO_EXP_NEG)){for(;len<i;str+='0',len++);str=toExponential(str,e)}else if(i-=ne,str=toFixedPoint(str,e,'0'),e+1>len){if(0<--i)for(str+='.';i--;str+='0');}else if(i+=e-len,0<i)for(e+1==len&&(str+='.');i--;str+='0');return 0>n.s&&c0?'-'+str:str}function maxOrMin(args,method){for(var n,i=1,m=new BigNumber(args[0]);i<args.length;i++)if(n=new BigNumber(args[i]),!n.s){m=n;break}else method.call(m,n)&&(m=n);return m}function normalise(n,c,e){for(var i=1,j=c.length;!c[--j];c.pop());for(j=c[0];10<=j;j/=10,i++);return(e=i+e*LOG_BASE-1)>MAX_EXP?n.c=n.e=null:e<MIN_EXP?n.c=[n.e=0]:(n.e=e,n.c=c),n}function round(x,sd,rm,r){var d,i,j,k,n,ni,rd,xc=x.c,pows10=POWS_TEN;if(xc){out:{for(d=1,k=xc[0];10<=k;k/=10,d++);if(i=sd-d,0>i)i+=LOG_BASE,j=sd,n=xc[ni=0],rd=0|n/pows10[d-j-1]%10;else if(ni=mathceil((i+1)/LOG_BASE),!(ni>=xc.length)){for(n=k=xc[ni],d=1;10<=k;k/=10,d++);i%=LOG_BASE,j=i-LOG_BASE+d,rd=0>j?0:0|n/pows10[d-j-1]%10}else if(r){for(;xc.length<=ni;xc.push(0));n=rd=0,d=1,i%=LOG_BASE,j=i-LOG_BASE+1}else break out;if(r=r||0>sd||null!=xc[ni+1]||(0>j?n:n%pows10[d-j-1]),r=4>rm?(rd||r)&&(0==rm||rm==(0>x.s?3:2)):5<rd||5==rd&&(4==rm||r||6==rm&&1&(0<i?0<j?n/pows10[d-j]:0:xc[ni-1])%10||rm==(0>x.s?8:7)),1>sd||!xc[0])return xc.length=0,r?(sd-=x.e+1,xc[0]=pows10[(LOG_BASE-sd%LOG_BASE)%LOG_BASE],x.e=-sd||0):xc[0]=x.e=0,x;if(0==i?(xc.length=ni,k=1,ni--):(xc.length=ni+1,k=pows10[LOG_BASE-i],xc[ni]=0<j?mathfloor(n/pows10[d-j]%pows10[j])*k:0),r)for(;;)if(0==ni){for(i=1,j=xc[0];10<=j;j/=10,i++);for(j=xc[0]+=k,k=1;10<=j;j/=10,k++);i!=k&&(x.e++,xc[0]==BASE&&(xc[0]=1));break}else{if(xc[ni]+=k,xc[ni]!=BASE)break;xc[ni--]=0,k=1}for(i=xc.length;0===xc[--i];xc.pop());}x.e>MAX_EXP?x.c=x.e=null:x.e<MIN_EXP&&(x.c=[x.e=0])}return x}function valueOf(n){var str,e=n.e;return null===e?n.toString():(str=coeffToString(n.c),str=e<=TO_EXP_NEG||e>=TO_EXP_POS?toExponential(str,e):toFixedPoint(str,e,'0'),0>n.s?'-'+str:str)}var div,convertBase,parseNumeric,P=BigNumber.prototype={constructor:BigNumber,toString:null,valueOf:null},ONE=new BigNumber(1),DECIMAL_PLACES=20,ROUNDING_MODE=4,TO_EXP_NEG=-7,TO_EXP_POS=21,MIN_EXP=-1e7,MAX_EXP=1e7,CRYPTO=!1,MODULO_MODE=1,POW_PRECISION=0,FORMAT={prefix:'',groupSize:3,secondaryGroupSize:0,groupSeparator:',',decimalSeparator:'.',fractionGroupSize:0,fractionGroupSeparator:'\xA0',suffix:''},ALPHABET='0123456789abcdefghijklmnopqrstuvwxyz';return BigNumber.clone=clone,BigNumber.ROUND_UP=0,BigNumber.ROUND_DOWN=1,BigNumber.ROUND_CEIL=2,BigNumber.ROUND_FLOOR=3,BigNumber.ROUND_HALF_UP=4,BigNumber.ROUND_HALF_DOWN=5,BigNumber.ROUND_HALF_EVEN=6,BigNumber.ROUND_HALF_CEIL=7,BigNumber.ROUND_HALF_FLOOR=8,BigNumber.EUCLID=9,BigNumber.config=BigNumber.set=function(obj){var p,v;if(null!=obj)if('object'==typeof obj){if(obj.hasOwnProperty(p='DECIMAL_PLACES')&&(v=obj[p],intCheck(v,0,MAX,p),DECIMAL_PLACES=v),obj.hasOwnProperty(p='ROUNDING_MODE')&&(v=obj[p],intCheck(v,0,8,p),ROUNDING_MODE=v),obj.hasOwnProperty(p='EXPONENTIAL_AT')&&(v=obj[p],v&&v.pop?(intCheck(v[0],-MAX,0,p),intCheck(v[1],0,MAX,p),TO_EXP_NEG=v[0],TO_EXP_POS=v[1]):(intCheck(v,-MAX,MAX,p),TO_EXP_NEG=-(TO_EXP_POS=0>v?-v:v))),obj.hasOwnProperty(p='RANGE'))if(v=obj[p],v&&v.pop)intCheck(v[0],-MAX,-1,p),intCheck(v[1],1,MAX,p),MIN_EXP=v[0],MAX_EXP=v[1];else if(intCheck(v,-MAX,MAX,p),v)MIN_EXP=-(MAX_EXP=0>v?-v:v);else throw Error(bignumberError+p+' cannot be zero: '+v);if(obj.hasOwnProperty(p='CRYPTO'))if(v=obj[p],v!==!!v)throw Error(bignumberError+p+' not true or false: '+v);else if(!v)CRYPTO=v;else if('undefined'!=typeof crypto&&crypto&&(crypto.getRandomValues||crypto.randomBytes))CRYPTO=v;else throw CRYPTO=!v,Error(bignumberError+'crypto unavailable');if(obj.hasOwnProperty(p='MODULO_MODE')&&(v=obj[p],intCheck(v,0,9,p),MODULO_MODE=v),obj.hasOwnProperty(p='POW_PRECISION')&&(v=obj[p],intCheck(v,0,MAX,p),POW_PRECISION=v),obj.hasOwnProperty(p='FORMAT'))if(v=obj[p],'object'==typeof v)FORMAT=v;else throw Error(bignumberError+p+' not an object: '+v);if(obj.hasOwnProperty(p='ALPHABET'))if(v=obj[p],'string'==typeof v&&!/^.$|[+-.\s]|(.).*\1/.test(v))ALPHABET=v;else throw Error(bignumberError+p+' invalid: '+v)}else throw Error(bignumberError+'Object expected: '+obj);return{DECIMAL_PLACES:DECIMAL_PLACES,ROUNDING_MODE:ROUNDING_MODE,EXPONENTIAL_AT:[TO_EXP_NEG,TO_EXP_POS],RANGE:[MIN_EXP,MAX_EXP],CRYPTO:CRYPTO,MODULO_MODE:MODULO_MODE,POW_PRECISION:POW_PRECISION,FORMAT:FORMAT,ALPHABET:ALPHABET}},BigNumber.isBigNumber=function(v){if(!v||!0!==v._isBigNumber)return!1;if(!BigNumber.DEBUG)return!0;var i,n,c=v.c,e=v.e,s=v.s;out:if('[object Array]'=={}.toString.call(c)){if((1===s||-1===s)&&e>=-MAX&&e<=MAX&&e===mathfloor(e)){if(0===c[0]){if(0===e&&1===c.length)return!0;break out}if(i=(e+1)%LOG_BASE,1>i&&(i+=LOG_BASE),(c[0]+'').length==i){for(i=0;i<c.length;i++)if(n=c[i],0>n||n>=BASE||n!==mathfloor(n))break out;if(0!==n)return!0}}}else if(null===c&&null===e&&(null===s||1===s||-1===s))return!0;throw Error(bignumberError+'Invalid BigNumber: '+v)},BigNumber.maximum=BigNumber.max=function(){return maxOrMin(arguments,P.lt)},BigNumber.minimum=BigNumber.min=function(){return maxOrMin(arguments,P.gt)},BigNumber.random=function(){var pow2_53=9007199254740992,random53bitInt=2097151&Math.random()*pow2_53?function(){return mathfloor(Math.random()*pow2_53)}:function(){return 8388608*(0|1073741824*Math.random())+(0|8388608*Math.random())};return function(dp){var a,b,e,k,v,i=0,c=[],rand=new BigNumber(ONE);if(null==dp?dp=DECIMAL_PLACES:intCheck(dp,0,MAX),k=mathceil(dp/LOG_BASE),CRYPTO)if(crypto.getRandomValues){for(a=crypto.getRandomValues(new Uint32Array(k*=2));i<k;)v=131072*a[i]+(a[i+1]>>>11),9e15<=v?(b=crypto.getRandomValues(new Uint32Array(2)),a[i]=b[0],a[i+1]=b[1]):(c.push(v%1e14),i+=2);i=k/2}else if(crypto.randomBytes){for(a=crypto.randomBytes(k*=7);i<k;)v=281474976710656*(31&a[i])+1099511627776*a[i+1]+4294967296*a[i+2]+16777216*a[i+3]+(a[i+4]<<16)+(a[i+5]<<8)+a[i+6],9e15<=v?crypto.randomBytes(7).copy(a,i):(c.push(v%1e14),i+=7);i=k/7}else throw CRYPTO=!1,Error(bignumberError+'crypto unavailable');if(!CRYPTO)for(;i<k;)v=random53bitInt(),9e15>v&&(c[i++]=v%1e14);for(k=c[--i],dp%=LOG_BASE,k&&dp&&(v=POWS_TEN[LOG_BASE-dp],c[i]=mathfloor(k/v)*v);0===c[i];c.pop(),i--);if(0>i)c=[e=0];else{for(e=-1;0===c[0];c.splice(0,1),e-=LOG_BASE);for(i=1,v=c[0];10<=v;v/=10,i++);i<LOG_BASE&&(e-=LOG_BASE-i)}return rand.e=e,rand.c=c,rand}}(),BigNumber.sum=function(){for(var i=1,args=arguments,sum=new BigNumber(args[0]);i<args.length;)sum=sum.plus(args[i++]);return sum},convertBase=function(){function toBaseOut(str,baseIn,baseOut,alphabet){for(var j,arrL,arr=[0],i=0,len=str.length;i<len;){for(arrL=arr.length;arrL--;arr[arrL]*=baseIn);for(arr[0]+=alphabet.indexOf(str.charAt(i++)),j=0;j<arr.length;j++)arr[j]>baseOut-1&&(null==arr[j+1]&&(arr[j+1]=0),arr[j+1]+=0|arr[j]/baseOut,arr[j]%=baseOut)}return arr.reverse()}var decimal='0123456789';return function(str,baseIn,baseOut,sign,callerIsToString){var alphabet,d,e,k,r,x,xc,y,i=str.indexOf('.'),dp=DECIMAL_PLACES,rm=ROUNDING_MODE;for(0<=i&&(k=POW_PRECISION,POW_PRECISION=0,str=str.replace('.',''),y=new BigNumber(baseIn),x=y.pow(str.length-i),POW_PRECISION=k,y.c=toBaseOut(toFixedPoint(coeffToString(x.c),x.e,'0'),10,baseOut,decimal),y.e=y.c.length),xc=toBaseOut(str,baseIn,baseOut,callerIsToString?(alphabet=ALPHABET,decimal):(alphabet=decimal,ALPHABET)),e=k=xc.length;0==xc[--k];xc.pop());if(!xc[0])return alphabet.charAt(0);if(0>i?--e:(x.c=xc,x.e=e,x.s=sign,x=div(x,y,dp,rm,baseOut),xc=x.c,r=x.r,e=x.e),d=e+dp+1,i=xc[d],k=baseOut/2,r=r||0>d||null!=xc[d+1],r=4>rm?(null!=i||r)&&(0==rm||rm==(0>x.s?3:2)):i>k||i==k&&(4==rm||r||6==rm&&1&xc[d-1]||rm==(0>x.s?8:7)),1>d||!xc[0])str=r?toFixedPoint(alphabet.charAt(1),-dp,alphabet.charAt(0)):alphabet.charAt(0);else{if(xc.length=d,r)for(--baseOut;++xc[--d]>baseOut;)xc[d]=0,d||(++e,xc=[1].concat(xc));for(k=xc.length;!xc[--k];);for(i=0,str='';i<=k;str+=alphabet.charAt(xc[i++]));str=toFixedPoint(str,e,alphabet.charAt(0))}return str}}(),div=function(){function multiply(x,k,base){var m,temp,xlo,xhi,carry=0,i=x.length,klo=k%SQRT_BASE,khi=0|k/SQRT_BASE;for(x=x.slice();i--;)xlo=x[i]%SQRT_BASE,xhi=0|x[i]/SQRT_BASE,m=khi*xlo+xhi*klo,temp=klo*xlo+m%SQRT_BASE*SQRT_BASE+carry,carry=(0|temp/base)+(0|m/SQRT_BASE)+khi*xhi,x[i]=temp%base;return carry&&(x=[carry].concat(x)),x}function compare(a,b,aL,bL){var i,cmp;if(aL!=bL)cmp=aL>bL?1:-1;else for(i=cmp=0;i<aL;i++)if(a[i]!=b[i]){cmp=a[i]>b[i]?1:-1;break}return cmp}function subtract(a,b,aL,base){for(var i=0;aL--;)a[aL]-=i,i=a[aL]<b[aL]?1:0,a[aL]=i*base+a[aL]-b[aL];for(;!a[0]&&1<a.length;a.splice(0,1));}return function(x,y,dp,rm,base){var cmp,e,i,more,n,prod,prodL,q,qc,rem,remL,rem0,xi,xL,yc0,yL,yz,s=x.s==y.s?1:-1,xc=x.c,yc=y.c;if(!xc||!xc[0]||!yc||!yc[0])return new BigNumber(x.s&&y.s&&(xc?!(yc&&xc[0]==yc[0]):!!yc)?xc&&0==xc[0]||!yc?0*s:s/0:NaN);for(q=new BigNumber(s),qc=q.c=[],e=x.e-y.e,s=dp+e+1,base||(base=BASE,e=bitFloor(x.e/LOG_BASE)-bitFloor(y.e/LOG_BASE),s=0|s/LOG_BASE),i=0;yc[i]==(xc[i]||0);i++);if(yc[i]>(xc[i]||0)&&e--,0>s)qc.push(1),more=!0;else{for(xL=xc.length,yL=yc.length,i=0,s+=2,n=mathfloor(base/(yc[0]+1)),1<n&&(yc=multiply(yc,n,base),xc=multiply(xc,n,base),yL=yc.length,xL=xc.length),xi=yL,rem=xc.slice(0,yL),remL=rem.length;remL<yL;rem[remL++]=0);yz=yc.slice(),yz=[0].concat(yz),yc0=yc[0],yc[1]>=base/2&&yc0++;do{if(n=0,cmp=compare(yc,rem,yL,remL),0>cmp){if(rem0=rem[0],yL!=remL&&(rem0=rem0*base+(rem[1]||0)),n=mathfloor(rem0/yc0),1<n)for(n>=base&&(n=base-1),prod=multiply(yc,n,base),prodL=prod.length,remL=rem.length;1==compare(prod,rem,prodL,remL);)n--,subtract(prod,yL<prodL?yz:yc,prodL,base),prodL=prod.length,cmp=1;else 0==n&&(cmp=n=1),prod=yc.slice(),prodL=prod.length;if(prodL<remL&&(prod=[0].concat(prod)),subtract(rem,prod,remL,base),remL=rem.length,-1==cmp)for(;1>compare(yc,rem,yL,remL);)n++,subtract(rem,yL<remL?yz:yc,remL,base),remL=rem.length}else 0===cmp&&(n++,rem=[0]);qc[i++]=n,rem[0]?rem[remL++]=xc[xi]||0:(rem=[xc[xi]],remL=1)}while((xi++<xL||null!=rem[0])&&s--);more=null!=rem[0],qc[0]||qc.splice(0,1)}if(base==BASE){for(i=1,s=qc[0];10<=s;s/=10,i++);round(q,dp+(q.e=i+e*LOG_BASE-1)+1,rm,more)}else q.e=e,q.r=+more;return q}}(),parseNumeric=function(){var basePrefix=/^(-?)0([xbo])(?=\w[\w.]*$)/i,dotAfter=/^([^.]+)\.$/,dotBefore=/^\.([^.]+)$/,isInfinityOrNaN=/^-?(Infinity|NaN)$/,whitespaceOrPlus=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(x,str,isNum,b){var base,s=isNum?str:str.replace(whitespaceOrPlus,'');if(isInfinityOrNaN.test(s))x.s=isNaN(s)?null:0>s?-1:1;else{if(!isNum&&(s=s.replace(basePrefix,function(m,p1,p2){return base='x'==(p2=p2.toLowerCase())?16:'b'==p2?2:8,b&&b!=base?m:p1}),b&&(base=b,s=s.replace(dotAfter,'$1').replace(dotBefore,'0.$1')),str!=s))return new BigNumber(s,base);if(BigNumber.DEBUG)throw Error(bignumberError+'Not a'+(b?' base '+b:'')+' number: '+str);x.s=null}x.c=x.e=null}}(),P.absoluteValue=P.abs=function(){var x=new BigNumber(this);return 0>x.s&&(x.s=1),x},P.comparedTo=function(y,b){return compare(this,new BigNumber(y,b))},P.decimalPlaces=P.dp=function(dp,rm){var c,n,v,x=this;if(null!=dp)return intCheck(dp,0,MAX),null==rm?rm=ROUNDING_MODE:intCheck(rm,0,8),round(new BigNumber(x),dp+x.e+1,rm);if(!(c=x.c))return null;if(n=((v=c.length-1)-bitFloor(this.e/LOG_BASE))*LOG_BASE,v=c[v])for(;0==v%10;v/=10,n--);return 0>n&&(n=0),n},P.dividedBy=P.div=function(y,b){return div(this,new BigNumber(y,b),DECIMAL_PLACES,ROUNDING_MODE)},P.dividedToIntegerBy=P.idiv=function(y,b){return div(this,new BigNumber(y,b),0,1)},P.exponentiatedBy=P.pow=function(n,m){var half,isModExp,i,k,more,nIsBig,nIsNeg,nIsOdd,y,x=this;if(n=new BigNumber(n),n.c&&!n.isInteger())throw Error(bignumberError+'Exponent not an integer: '+valueOf(n));if(null!=m&&(m=new BigNumber(m)),nIsBig=14<n.e,!x.c||!x.c[0]||1==x.c[0]&&!x.e&&1==x.c.length||!n.c||!n.c[0])return y=new BigNumber(Math.pow(+valueOf(x),nIsBig?2-isOdd(n):+valueOf(n))),m?y.mod(m):y;if(nIsNeg=0>n.s,m){if(m.c?!m.c[0]:!m.s)return new BigNumber(NaN);isModExp=!nIsNeg&&x.isInteger()&&m.isInteger(),isModExp&&(x=x.mod(m))}else{if(9<n.e&&(0<x.e||-1>x.e||(0==x.e?1<x.c[0]||nIsBig&&24e7<=x.c[1]:8e13>x.c[0]||nIsBig&&9999975e7>=x.c[0])))return k=0>x.s&&isOdd(n)?-0:0,-1<x.e&&(k=1/k),new BigNumber(nIsNeg?1/k:k);POW_PRECISION&&(k=mathceil(POW_PRECISION/LOG_BASE+2))}for(nIsBig?(half=new BigNumber(.5),nIsNeg&&(n.s=1),nIsOdd=isOdd(n)):(i=Math.abs(+valueOf(n)),nIsOdd=i%2),y=new BigNumber(ONE);;){if(nIsOdd){if(y=y.times(x),!y.c)break;k?y.c.length>k&&(y.c.length=k):isModExp&&(y=y.mod(m))}if(i){if(i=mathfloor(i/2),0===i)break;nIsOdd=i%2}else if(n=n.times(half),round(n,n.e+1,1),14<n.e)nIsOdd=isOdd(n);else{if(i=+valueOf(n),0===i)break;nIsOdd=i%2}x=x.times(x),k?x.c&&x.c.length>k&&(x.c.length=k):isModExp&&(x=x.mod(m))}return isModExp?y:(nIsNeg&&(y=ONE.div(y)),m?y.mod(m):k?round(y,POW_PRECISION,ROUNDING_MODE,more):y)},P.integerValue=function(rm){var n=new BigNumber(this);return null==rm?rm=ROUNDING_MODE:intCheck(rm,0,8),round(n,n.e+1,rm)},P.isEqualTo=P.eq=function(y,b){return 0===compare(this,new BigNumber(y,b))},P.isFinite=function(){return!!this.c},P.isGreaterThan=P.gt=function(y,b){return 0<compare(this,new BigNumber(y,b))},P.isGreaterThanOrEqualTo=P.gte=function(y,b){return 1===(b=compare(this,new BigNumber(y,b)))||0===b},P.isInteger=function(){return!!this.c&&bitFloor(this.e/LOG_BASE)>this.c.length-2},P.isLessThan=P.lt=function(y,b){return 0>compare(this,new BigNumber(y,b))},P.isLessThanOrEqualTo=P.lte=function(y,b){return-1===(b=compare(this,new BigNumber(y,b)))||0===b},P.isNaN=function(){return!this.s},P.isNegative=function(){return 0>this.s},P.isPositive=function(){return 0<this.s},P.isZero=function(){return!!this.c&&0==this.c[0]},P.minus=function(y,b){var i,j,t,xLTy,x=this,a=x.s;if(y=new BigNumber(y,b),b=y.s,!a||!b)return new BigNumber(NaN);if(a!=b)return y.s=-b,x.plus(y);var xe=x.e/LOG_BASE,ye=y.e/LOG_BASE,xc=x.c,yc=y.c;if(!xe||!ye){if(!xc||!yc)return xc?(y.s=-b,y):new BigNumber(yc?x:NaN);if(!xc[0]||!yc[0])return yc[0]?(y.s=-b,y):new BigNumber(xc[0]?x:3==ROUNDING_MODE?-0:0)}if(xe=bitFloor(xe),ye=bitFloor(ye),xc=xc.slice(),a=xe-ye){for((xLTy=0>a)?(a=-a,t=xc):(ye=xe,t=yc),t.reverse(),b=a;b--;t.push(0));t.reverse()}else for(j=(xLTy=(a=xc.length)<(b=yc.length))?a:b,a=b=0;b<j;b++)if(xc[b]!=yc[b]){xLTy=xc[b]<yc[b];break}if(xLTy&&(t=xc,xc=yc,yc=t,y.s=-y.s),b=(j=yc.length)-(i=xc.length),0<b)for(;b--;xc[i++]=0);for(b=BASE-1;j>a;){if(xc[--j]<yc[j]){for(i=j;i&&!xc[--i];xc[i]=b);--xc[i],xc[j]+=BASE}xc[j]-=yc[j]}for(;0==xc[0];xc.splice(0,1),--ye);return xc[0]?normalise(y,xc,ye):(y.s=3==ROUNDING_MODE?-1:1,y.c=[y.e=0],y)},P.modulo=P.mod=function(y,b){var q,s,x=this;return(y=new BigNumber(y,b),!x.c||!y.s||y.c&&!y.c[0])?new BigNumber(NaN):y.c&&(!x.c||x.c[0])?(9==MODULO_MODE?(s=y.s,y.s=1,q=div(x,y,0,3),y.s=s,q.s*=s):q=div(x,y,0,MODULO_MODE),y=x.minus(q.times(y)),y.c[0]||1!=MODULO_MODE||(y.s=x.s),y):new BigNumber(x)},P.multipliedBy=P.times=function(y,b){var c,e,i,j,k,m,xcL,xlo,xhi,ycL,ylo,yhi,zc,base,sqrtBase,x=this,xc=x.c,yc=(y=new BigNumber(y,b)).c;if(!xc||!yc||!xc[0]||!yc[0])return x.s&&y.s&&(!xc||xc[0]||yc)&&(!yc||yc[0]||xc)?(y.s*=x.s,xc&&yc?(y.c=[0],y.e=0):y.c=y.e=null):y.c=y.e=y.s=null,y;for(e=bitFloor(x.e/LOG_BASE)+bitFloor(y.e/LOG_BASE),y.s*=x.s,xcL=xc.length,ycL=yc.length,xcL<ycL&&(zc=xc,xc=yc,yc=zc,i=xcL,xcL=ycL,ycL=i),(i=xcL+ycL,zc=[]);i--;zc.push(0));for(base=BASE,sqrtBase=SQRT_BASE,i=ycL;0<=--i;){for(c=0,ylo=yc[i]%sqrtBase,yhi=0|yc[i]/sqrtBase,(k=xcL,j=i+k);j>i;)xlo=xc[--k]%sqrtBase,xhi=0|xc[k]/sqrtBase,m=yhi*xlo+xhi*ylo,xlo=ylo*xlo+m%sqrtBase*sqrtBase+zc[j]+c,c=(0|xlo/base)+(0|m/sqrtBase)+yhi*xhi,zc[j--]=xlo%base;zc[j]=c}return c?++e:zc.splice(0,1),normalise(y,zc,e)},P.negated=function(){var x=new BigNumber(this);return x.s=-x.s||null,x},P.plus=function(y,b){var t,x=this,a=x.s;if(y=new BigNumber(y,b),b=y.s,!a||!b)return new BigNumber(NaN);if(a!=b)return y.s=-b,x.minus(y);var xe=x.e/LOG_BASE,ye=y.e/LOG_BASE,xc=x.c,yc=y.c;if(!xe||!ye){if(!xc||!yc)return new BigNumber(a/0);if(!xc[0]||!yc[0])return yc[0]?y:new BigNumber(xc[0]?x:0*a)}if(xe=bitFloor(xe),ye=bitFloor(ye),xc=xc.slice(),a=xe-ye){for(0<a?(ye=xe,t=yc):(a=-a,t=xc),t.reverse();a--;t.push(0));t.reverse()}for(a=xc.length,b=yc.length,0>a-b&&(t=yc,yc=xc,xc=t,b=a),a=0;b;)a=0|(xc[--b]=xc[b]+yc[b]+a)/BASE,xc[b]=BASE===xc[b]?0:xc[b]%BASE;return a&&(xc=[a].concat(xc),++ye),normalise(y,xc,ye)},P.precision=P.sd=function(sd,rm){var c,n,v,x=this;if(null!=sd&&sd!==!!sd)return intCheck(sd,1,MAX),null==rm?rm=ROUNDING_MODE:intCheck(rm,0,8),round(new BigNumber(x),sd,rm);if(!(c=x.c))return null;if(v=c.length-1,n=v*LOG_BASE+1,v=c[v]){for(;0==v%10;v/=10,n--);for(v=c[0];10<=v;v/=10,n++);}return sd&&x.e+1>n&&(n=x.e+1),n},P.shiftedBy=function(k){return intCheck(k,-MAX_SAFE_INTEGER,MAX_SAFE_INTEGER),this.times('1e'+k)},P.squareRoot=P.sqrt=function(){var m,n,r,rep,t,_Mathsqrt=Math.sqrt,x=this,c=x.c,s=x.s,e=x.e,dp=DECIMAL_PLACES+4,half=new BigNumber('0.5');if(1!==s||!c||!c[0])return new BigNumber(!s||0>s&&(!c||c[0])?NaN:c?x:1/0);if(s=_Mathsqrt(+valueOf(x)),0==s||s==1/0?(n=coeffToString(c),0==(n.length+e)%2&&(n+='0'),s=_Mathsqrt(+n),e=bitFloor((e+1)/2)-(0>e||e%2),s==1/0?n='1e'+e:(n=s.toExponential(),n=n.slice(0,n.indexOf('e')+1)+e),r=new BigNumber(n)):r=new BigNumber(s+''),r.c[0])for(e=r.e,s=e+dp,3>s&&(s=0);;)if(t=r,r=half.times(t.plus(div(x,t,dp,1))),coeffToString(t.c).slice(0,s)===(n=coeffToString(r.c)).slice(0,s))if(r.e<e&&--s,n=n.slice(s-3,s+1),'9999'==n||!rep&&'4999'==n){if(!rep&&(round(t,t.e+DECIMAL_PLACES+2,0),t.times(t).eq(x))){r=t;break}dp+=4,s+=4,rep=1}else{+n&&(+n.slice(1)||'5'!=n.charAt(0))||(round(r,r.e+DECIMAL_PLACES+2,1),m=!r.times(r).eq(x));break}return round(r,r.e+DECIMAL_PLACES+1,ROUNDING_MODE,m)},P.toExponential=function(dp,rm){return null!=dp&&(intCheck(dp,0,MAX),dp++),format(this,dp,rm,1)},P.toFixed=function(dp,rm){return null!=dp&&(intCheck(dp,0,MAX),dp=dp+this.e+1),format(this,dp,rm)},P.toFormat=function(dp,rm,format){var str,x=this;if(null==format)null!=dp&&rm&&'object'==typeof rm?(format=rm,rm=null):dp&&'object'==typeof dp?(format=dp,dp=rm=null):format=FORMAT;else if('object'!=typeof format)throw Error(bignumberError+'Argument not an object: '+format);if(str=x.toFixed(dp,rm),x.c){var i,arr=str.split('.'),g1=+format.groupSize,g2=+format.secondaryGroupSize,groupSeparator=format.groupSeparator||'',intPart=arr[0],fractionPart=arr[1],isNeg=0>x.s,intDigits=isNeg?intPart.slice(1):intPart,len=intDigits.length;if(g2&&(i=g1,g1=g2,g2=i,len-=i),0<g1&&0<len){for(i=len%g1||g1,intPart=intDigits.substr(0,i);i<len;i+=g1)intPart+=groupSeparator+intDigits.substr(i,g1);0<g2&&(intPart+=groupSeparator+intDigits.slice(i)),isNeg&&(intPart='-'+intPart)}str=fractionPart?intPart+(format.decimalSeparator||'')+((g2=+format.fractionGroupSize)?fractionPart.replace(new RegExp('\\d{'+g2+'}\\B','g'),'$&'+(format.fractionGroupSeparator||'')):fractionPart):intPart}return(format.prefix||'')+str+(format.suffix||'')},P.toFraction=function(md){var d,d0,d1,d2,e,exp,n,n0,n1,q,r,s,x=this,xc=x.c;if(null!=md&&(n=new BigNumber(md),!n.isInteger()&&(n.c||1!==n.s)||n.lt(ONE)))throw Error(bignumberError+'Argument '+(n.isInteger()?'out of range: ':'not an integer: ')+valueOf(n));if(!xc)return new BigNumber(x);for(d=new BigNumber(ONE),n1=d0=new BigNumber(ONE),d1=n0=new BigNumber(ONE),s=coeffToString(xc),e=d.e=s.length-x.e-1,d.c[0]=POWS_TEN[0>(exp=e%LOG_BASE)?LOG_BASE+exp:exp],md=!md||0<n.comparedTo(d)?0<e?d:n1:n,exp=MAX_EXP,MAX_EXP=1/0,n=new BigNumber(s),n0.c[0]=0;;){if(q=div(n,d,0,1),d2=d0.plus(q.times(d1)),1==d2.comparedTo(md))break;d0=d1,d1=d2,n1=n0.plus(q.times(d2=n1)),n0=d2,d=n.minus(q.times(d2=d)),n=d2}return d2=div(md.minus(d0),d1,0,1),n0=n0.plus(d2.times(n1)),d0=d0.plus(d2.times(d1)),n0.s=n1.s=x.s,e*=2,r=1>div(n1,d1,e,ROUNDING_MODE).minus(x).abs().comparedTo(div(n0,d0,e,ROUNDING_MODE).minus(x).abs())?[n1,d1]:[n0,d0],MAX_EXP=exp,r},P.toNumber=function(){return+valueOf(this)},P.toPrecision=function(sd,rm){return null!=sd&&intCheck(sd,1,MAX),format(this,sd,rm,2)},P.toString=function(b){var str,n=this,s=n.s,e=n.e;return null===e?s?(str='Infinity',0>s&&(str='-'+str)):str='NaN':(null==b?str=e<=TO_EXP_NEG||e>=TO_EXP_POS?toExponential(coeffToString(n.c),e):toFixedPoint(coeffToString(n.c),e,'0'):10===b?(n=round(new BigNumber(n),DECIMAL_PLACES+e+1,ROUNDING_MODE),str=toFixedPoint(coeffToString(n.c),n.e,'0')):(intCheck(b,2,ALPHABET.length,'Base'),str=convertBase(toFixedPoint(coeffToString(n.c),e,'0'),10,b,s,!0)),0>s&&n.c[0]&&(str='-'+str)),str},P.valueOf=P.toJSON=function(){return valueOf(this)},P._isBigNumber=!0,hasSymbol&&(P[Symbol.toStringTag]='BigNumber',P[Symbol.for('nodejs.util.inspect.custom')]=P.valueOf),null!=configObject&&BigNumber.set(configObject),BigNumber}function bitFloor(n){var i=0|n;return 0<n||n===i?i:i-1}function coeffToString(a){for(var s,z,i=1,j=a.length,r=a[0]+'';i<j;){for(s=a[i++]+'',z=LOG_BASE-s.length;z--;s='0'+s);r+=s}for(j=r.length;48===r.charCodeAt(--j););return r.slice(0,j+1||1)}function compare(x,y){var a,b,xc=x.c,yc=y.c,i=x.s,j=y.s,k=x.e,l=y.e;if(!i||!j)return null;if(a=xc&&!xc[0],b=yc&&!yc[0],a||b)return a?b?0:-j:i;if(i!=j)return i;if(a=0>i,b=k==l,!xc||!yc)return b?0:!xc^a?1:-1;if(!b)return k>l^a?1:-1;for(j=(k=xc.length)<(l=yc.length)?k:l,i=0;i<j;i++)if(xc[i]!=yc[i])return xc[i]>yc[i]^a?1:-1;return k==l?0:k>l^a?1:-1}function intCheck(n,min,max,name){if(n<min||n>max||n!==mathfloor(n))throw Error(bignumberError+(name||'Argument')+('number'==typeof n?n<min||n>max?' out of range: ':' not an integer: ':' not a primitive number: ')+(n+''))}function isOdd(n){var k=n.c.length-1;return bitFloor(n.e/LOG_BASE)==k&&0!=n.c[k]%2}function toExponential(str,e){return(1<str.length?str.charAt(0)+'.'+str.slice(1):str)+(0>e?'e':'e+')+e}function toFixedPoint(str,e,z){var len,zs;if(0>e){for(zs=z+'.';++e;zs+=z);str=zs+str}else if(len=str.length,++e>len){for(zs=z,e-=len;--e;zs+=z);str+=zs}else e<len&&(str=str.slice(0,e)+'.'+str.slice(e));return str}var BigNumber,isNumeric=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,hasSymbol='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator,mathceil=Math.ceil,mathfloor=Math.floor,bignumberError='[BigNumber Error] ',tooManyDigits=bignumberError+'Number primitive has more than 15 significant digits: ',BASE=1e14,LOG_BASE=14,MAX_SAFE_INTEGER=9007199254740991,POWS_TEN=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],SQRT_BASE=1e7,MAX=1E9;BigNumber=clone(),BigNumber['default']=BigNumber.BigNumber=BigNumber,__WEBPACK_AMD_DEFINE_RESULT__=function(){return BigNumber}.call(exports,__webpack_require__,exports,module),!(__WEBPACK_AMD_DEFINE_RESULT__!==void 0&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))})(this)},function(module,exports,__webpack_require__){'use strict';Object.defineProperty(exports,'__esModule',{value:!0});const axios_1=__webpack_require__(21);exports.default=class{constructor(config){this.METHOD_GET='GET',this.METHOD_POST='POST',this.applyConfig(config)}applyConfig(config){this.config=this.mergeDefaults(config)}getConfig(){return this.config}mergeDefaults(config){const protocol=config.protocol||'http',port=config.port||('https'===protocol?443:80);return{host:config.host||'127.0.0.1',protocol,port,timeout:config.timeout||2e4,logging:config.logging||!1,logger:config.logger||console.log}}async get(endpoint,config){try{return await this.request().get(endpoint,config)}catch(error){if(error.response&&error.response.status)return error.response;throw error}}async post(endpoint,body,config){try{return await this.request().post(endpoint,body,config)}catch(error){if(error.response&&error.response.status)return error.response;throw error}}request(){let instance=axios_1.default.create({baseURL:`${this.config.protocol}://${this.config.host}:${this.config.port}`,timeout:this.config.timeout,maxContentLength:536870912});return this.config.logging&&(instance.interceptors.request.use(request=>(this.config.logger(`Requesting: ${request.baseURL}/${request.url}`),request)),instance.interceptors.response.use(response=>(this.config.logger(`Response:   ${response.config.url} - ${response.status}`),response))),instance}}},function(module,exports,__webpack_require__){module.exports=__webpack_require__(22)},function(module,exports,__webpack_require__){'use strict';function createInstance(defaultConfig){var context=new Axios(defaultConfig),instance=bind(Axios.prototype.request,context);return utils.extend(instance,Axios.prototype,context),utils.extend(instance,context),instance}var utils=__webpack_require__(0),bind=__webpack_require__(6),Axios=__webpack_require__(23),mergeConfig=__webpack_require__(13),defaults=__webpack_require__(9),axios=createInstance(defaults);axios.Axios=Axios,axios.create=function(instanceConfig){return createInstance(mergeConfig(axios.defaults,instanceConfig))},axios.Cancel=__webpack_require__(14),axios.CancelToken=__webpack_require__(36),axios.isCancel=__webpack_require__(8),axios.all=function(promises){return Promise.all(promises)},axios.spread=__webpack_require__(37),module.exports=axios,module.exports.default=axios},function(module,exports,__webpack_require__){'use strict';function Axios(instanceConfig){this.defaults=instanceConfig,this.interceptors={request:new InterceptorManager,response:new InterceptorManager}}var utils=__webpack_require__(0),buildURL=__webpack_require__(7),InterceptorManager=__webpack_require__(24),dispatchRequest=__webpack_require__(25),mergeConfig=__webpack_require__(13);Axios.prototype.request=function(config){'string'==typeof config?(config=arguments[1]||{},config.url=arguments[0]):config=config||{},config=mergeConfig(this.defaults,config),config.method=config.method?config.method.toLowerCase():this.defaults.method?this.defaults.method.toLowerCase():'get';var chain=[dispatchRequest,void 0],promise=Promise.resolve(config);for(this.interceptors.request.forEach(function(interceptor){chain.unshift(interceptor.fulfilled,interceptor.rejected)}),this.interceptors.response.forEach(function(interceptor){chain.push(interceptor.fulfilled,interceptor.rejected)});chain.length;)promise=promise.then(chain.shift(),chain.shift());return promise},Axios.prototype.getUri=function(config){return config=mergeConfig(this.defaults,config),buildURL(config.url,config.params,config.paramsSerializer).replace(/^\?/,'')},utils.forEach(['delete','get','head','options'],function(method){Axios.prototype[method]=function(url,config){return this.request(utils.merge(config||{},{method:method,url:url}))}}),utils.forEach(['post','put','patch'],function(method){Axios.prototype[method]=function(url,data,config){return this.request(utils.merge(config||{},{method:method,url:url,data:data}))}}),module.exports=Axios},function(module,exports,__webpack_require__){'use strict';function InterceptorManager(){this.handlers=[]}var utils=__webpack_require__(0);InterceptorManager.prototype.use=function(fulfilled,rejected){return this.handlers.push({fulfilled:fulfilled,rejected:rejected}),this.handlers.length-1},InterceptorManager.prototype.eject=function(id){this.handlers[id]&&(this.handlers[id]=null)},InterceptorManager.prototype.forEach=function(fn){utils.forEach(this.handlers,function(h){null!==h&&fn(h)})},module.exports=InterceptorManager},function(module,exports,__webpack_require__){'use strict';function throwIfCancellationRequested(config){config.cancelToken&&config.cancelToken.throwIfRequested()}var utils=__webpack_require__(0),transformData=__webpack_require__(26),isCancel=__webpack_require__(8),defaults=__webpack_require__(9);module.exports=function(config){throwIfCancellationRequested(config),config.headers=config.headers||{},config.data=transformData(config.data,config.headers,config.transformRequest),config.headers=utils.merge(config.headers.common||{},config.headers[config.method]||{},config.headers),utils.forEach(['delete','get','head','post','put','patch','common'],function(method){delete config.headers[method]});var adapter=config.adapter||defaults.adapter;return adapter(config).then(function(response){return throwIfCancellationRequested(config),response.data=transformData(response.data,response.headers,config.transformResponse),response},function(reason){return isCancel(reason)||(throwIfCancellationRequested(config),reason&&reason.response&&(reason.response.data=transformData(reason.response.data,reason.response.headers,config.transformResponse))),Promise.reject(reason)})}},function(module,exports,__webpack_require__){'use strict';var utils=__webpack_require__(0);module.exports=function(data,headers,fns){return utils.forEach(fns,function(fn){data=fn(data,headers)}),data}},function(module,exports,__webpack_require__){'use strict';var utils=__webpack_require__(0);module.exports=function(headers,normalizedName){utils.forEach(headers,function(value,name){name!==normalizedName&&name.toUpperCase()===normalizedName.toUpperCase()&&(headers[normalizedName]=value,delete headers[name])})}},function(module,exports,__webpack_require__){'use strict';var createError=__webpack_require__(12);module.exports=function(resolve,reject,response){var validateStatus=response.config.validateStatus;!validateStatus||validateStatus(response.status)?resolve(response):reject(createError('Request failed with status code '+response.status,response.config,null,response.request,response))}},function(module){'use strict';module.exports=function(error,config,code,request,response){return error.config=config,code&&(error.code=code),error.request=request,error.response=response,error.isAxiosError=!0,error.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},error}},function(module,exports,__webpack_require__){'use strict';var isAbsoluteURL=__webpack_require__(31),combineURLs=__webpack_require__(32);module.exports=function(baseURL,requestedURL){return baseURL&&!isAbsoluteURL(requestedURL)?combineURLs(baseURL,requestedURL):requestedURL}},function(module){'use strict';module.exports=function(url){return /^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(url)}},function(module){'use strict';module.exports=function(baseURL,relativeURL){return relativeURL?baseURL.replace(/\/+$/,'')+'/'+relativeURL.replace(/^\/+/,''):baseURL}},function(module,exports,__webpack_require__){'use strict';var utils=__webpack_require__(0),ignoreDuplicateOf=['age','authorization','content-length','content-type','etag','expires','from','host','if-modified-since','if-unmodified-since','last-modified','location','max-forwards','proxy-authorization','referer','retry-after','user-agent'];module.exports=function(headers){var key,val,i,parsed={};return headers?(utils.forEach(headers.split('\n'),function(line){if(i=line.indexOf(':'),key=utils.trim(line.substr(0,i)).toLowerCase(),val=utils.trim(line.substr(i+1)),key){if(parsed[key]&&0<=ignoreDuplicateOf.indexOf(key))return;parsed[key]='set-cookie'===key?(parsed[key]?parsed[key]:[]).concat([val]):parsed[key]?parsed[key]+', '+val:val}}),parsed):parsed}},function(module,exports,__webpack_require__){'use strict';var utils=__webpack_require__(0);module.exports=utils.isStandardBrowserEnv()?function(){function resolveURL(url){var href=url;return msie&&(urlParsingNode.setAttribute('href',href),href=urlParsingNode.href),urlParsingNode.setAttribute('href',href),{href:urlParsingNode.href,protocol:urlParsingNode.protocol?urlParsingNode.protocol.replace(/:$/,''):'',host:urlParsingNode.host,search:urlParsingNode.search?urlParsingNode.search.replace(/^\?/,''):'',hash:urlParsingNode.hash?urlParsingNode.hash.replace(/^#/,''):'',hostname:urlParsingNode.hostname,port:urlParsingNode.port,pathname:'/'===urlParsingNode.pathname.charAt(0)?urlParsingNode.pathname:'/'+urlParsingNode.pathname}}var originURL,msie=/(msie|trident)/i.test(navigator.userAgent),urlParsingNode=document.createElement('a');return originURL=resolveURL(window.location.href),function(requestURL){var parsed=utils.isString(requestURL)?resolveURL(requestURL):requestURL;return parsed.protocol===originURL.protocol&&parsed.host===originURL.host}}():function(){return function(){return!0}}()},function(module,exports,__webpack_require__){'use strict';var utils=__webpack_require__(0);module.exports=utils.isStandardBrowserEnv()?function(){return{write:function(name,value,expires,path,domain,secure){var cookie=[];cookie.push(name+'='+encodeURIComponent(value)),utils.isNumber(expires)&&cookie.push('expires='+new Date(expires).toGMTString()),utils.isString(path)&&cookie.push('path='+path),utils.isString(domain)&&cookie.push('domain='+domain),!0===secure&&cookie.push('secure'),document.cookie=cookie.join('; ')},read:function(name){var match=document.cookie.match(new RegExp('(^|;\\s*)('+name+')=([^;]*)'));return match?decodeURIComponent(match[3]):null},remove:function(name){this.write(name,'',Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},function(module,exports,__webpack_require__){'use strict';function CancelToken(executor){if('function'!=typeof executor)throw new TypeError('executor must be a function.');var resolvePromise;this.promise=new Promise(function(resolve){resolvePromise=resolve});var token=this;executor(function(message){token.reason||(token.reason=new Cancel(message),resolvePromise(token.reason))})}var Cancel=__webpack_require__(14);CancelToken.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},CancelToken.source=function(){var cancel,token=new CancelToken(function(c){cancel=c});return{token:token,cancel:cancel}},module.exports=CancelToken},function(module){'use strict';module.exports=function(callback){return function(arr){return callback.apply(null,arr)}}},function(module,exports){'use strict';Object.defineProperty(exports,'__esModule',{value:!0});exports.default=class{constructor(api){this.api=api}getInfo(){return this.api.get(`info`).then(response=>response.data)}getPeers(){return this.api.get(`peers`).then(response=>response.data)}}},function(module,exports,__webpack_require__){'use strict';var __await=this&&this.__await||function(v){return this instanceof __await?(this.v=v,this):new __await(v)},__asyncGenerator=this&&this.__asyncGenerator||function(thisArg,_arguments,generator){function verb(n){g[n]&&(i[n]=function(v){return new Promise(function(a,b){1<q.push([n,v,a,b])||resume(n,v)})})}function resume(n,v){try{step(g[n](v))}catch(e){settle(q[0][3],e)}}function step(r){r.value instanceof __await?Promise.resolve(r.value.v).then(fulfill,reject):settle(q[0][2],r)}function fulfill(value){resume('next',value)}function reject(value){resume('throw',value)}function settle(f,v){(f(v),q.shift(),q.length)&&resume(q[0][0],q[0][1])}if(!Symbol.asyncIterator)throw new TypeError('Symbol.asyncIterator is not defined.');var i,g=generator.apply(thisArg,_arguments||[]),q=[];return i={},verb('next'),verb('throw'),verb('return'),i[Symbol.asyncIterator]=function(){return this},i};Object.defineProperty(exports,'__esModule',{value:!0});const error_1=__webpack_require__(4),transaction_1=__webpack_require__(5),ArweaveUtils=__webpack_require__(1),transaction_uploader_1=__webpack_require__(47);exports.default=class{constructor(api,crypto,chunks){this.api=api,this.crypto=crypto,this.chunks=chunks}getTransactionAnchor(){return this.api.get(`tx_anchor`).then(response=>response.data)}getPrice(byteSize,targetAddress){let endpoint=targetAddress?`price/${byteSize}/${targetAddress}`:`price/${byteSize}`;return this.api.get(endpoint,{transformResponse:[function(data){return data}]}).then(response=>response.data)}async get(id){const response=await this.api.get(`tx/${id}`);if(200==response.status){const data_size=parseInt(response.data.data_size);if(2<=response.data.format&&0<data_size&&data_size<=12582912){const data=await this.getData(id);return new transaction_1.default(Object.assign(Object.assign({},response.data),{data}))}return new transaction_1.default(Object.assign(Object.assign({},response.data),{format:response.data.format||1}))}if(202==response.status)throw new error_1.default('TX_PENDING');if(404==response.status)throw new error_1.default('TX_NOT_FOUND');if(410==response.status)throw new error_1.default('TX_FAILED');throw new error_1.default('TX_INVALID')}fromRaw(attributes){return new transaction_1.default(attributes)}async search(tagName,tagValue){return this.api.post(`arql`,{op:'equals',expr1:tagName,expr2:tagValue}).then(response=>response.data?response.data:[])}getStatus(id){return this.api.get(`tx/${id}/status`).then(response=>200==response.status?{status:200,confirmed:response.data}:{status:response.status,confirmed:null})}async getData(id,options){const resp=await this.api.get(`${id}`,{responseType:'arraybuffer'});let data;if(200===resp.status&&(data=new Uint8Array(resp.data)),400===resp.status&&'tx_data_too_big'===error_1.getError(resp)&&(data=await this.chunks.downloadChunkedData(id)),!data){if(202==resp.status)throw new error_1.default('TX_PENDING');if(404==resp.status)throw new error_1.default('TX_NOT_FOUND');if(410==resp.status)throw new error_1.default('TX_FAILED');throw new Error(`Unable to get data: ${resp.status} - ${error_1.getError(resp)}`)}return options&&options.decode&&!options.string?data:options&&options.decode&&options.string?ArweaveUtils.bufferToString(data):ArweaveUtils.bufferTob64Url(data)}async sign(transaction,jwk){let dataToSign=await transaction.getSignatureData(),rawSignature=await this.crypto.sign(jwk,dataToSign),id=await this.crypto.hash(rawSignature);transaction.setSignature({signature:ArweaveUtils.bufferTob64Url(rawSignature),id:ArweaveUtils.bufferTob64Url(id)})}async verify(transaction){const signaturePayload=await transaction.getSignatureData(),rawSignature=transaction.get('signature',{decode:!0,string:!1}),expectedId=ArweaveUtils.bufferTob64Url((await this.crypto.hash(rawSignature)));if(transaction.id!==expectedId)throw new Error(`Invalid transaction signature or ID! The transaction ID doesn't match the expected SHA-256 hash of the signature.`);return this.crypto.verify(transaction.owner,signaturePayload,rawSignature)}async post(transaction){if('string'==typeof transaction?transaction=new transaction_1.default(JSON.parse(transaction)):'function'==typeof transaction.readInt32BE?transaction=new transaction_1.default(JSON.parse(transaction.toString())):'object'==typeof transaction&&!(transaction instanceof transaction_1.default)&&(transaction=new transaction_1.default(transaction)),!(transaction instanceof transaction_1.default))throw new Error(`Must be Transaction object`);transaction.chunks||(await transaction.prepareChunks(transaction.data));const uploader=await this.getUploader(transaction);try{for(;!uploader.isComplete;)await uploader.uploadChunk()}catch(e){if(0<uploader.lastResponseStatus)return{status:uploader.lastResponseStatus,statusText:uploader.lastResponseError,data:{error:uploader.lastResponseError}};throw e}return{status:200,statusText:'OK',data:{}}}async getUploader(upload,data){let uploader;if(upload instanceof transaction_1.default)uploader=new transaction_uploader_1.TransactionUploader(this.api,upload);else{if(data instanceof ArrayBuffer&&(data=new Uint8Array(data)),!data||!(data instanceof Uint8Array))throw new Error(`Must provide data when resuming upload`);'string'==typeof upload&&(upload=await transaction_uploader_1.TransactionUploader.fromTransactionId(this.api,upload)),uploader=await transaction_uploader_1.TransactionUploader.fromSerialized(this.api,upload,data)}return uploader}upload(upload,data){return __asyncGenerator(this,arguments,function*(){const uploader=yield __await(this.getUploader(upload,data));for(;!uploader.isComplete;)yield __await(uploader.uploadChunk()),yield yield __await(uploader);return yield __await(uploader)})}}},function(module){module.exports=function(arg){return arg&&'object'==typeof arg&&'function'==typeof arg.copy&&'function'==typeof arg.fill&&'function'==typeof arg.readUInt8}},function(module){module.exports='function'==typeof Object.create?function(ctor,superCtor){ctor.super_=superCtor,ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}})}:function(ctor,superCtor){ctor.super_=superCtor;var TempCtor=function(){};TempCtor.prototype=superCtor.prototype,ctor.prototype=new TempCtor,ctor.prototype.constructor=ctor}},function(module,exports,__webpack_require__){'use strict';async function deepHash(data){if(Array.isArray(data)){const tag=common_1.default.utils.concatBuffers([common_1.default.utils.stringToBuffer('list'),common_1.default.utils.stringToBuffer(data.length.toString())]);return await deepHashChunks(data,(await common_1.default.crypto.hash(tag,'SHA-384')))}const tag=common_1.default.utils.concatBuffers([common_1.default.utils.stringToBuffer('blob'),common_1.default.utils.stringToBuffer(data.byteLength.toString())]),taggedHash=common_1.default.utils.concatBuffers([await common_1.default.crypto.hash(tag,'SHA-384'),await common_1.default.crypto.hash(data,'SHA-384')]);return await common_1.default.crypto.hash(taggedHash,'SHA-384')}async function deepHashChunks(chunks,acc){if(1>chunks.length)return acc;const hashPair=common_1.default.utils.concatBuffers([acc,await deepHash(chunks[0])]),newAcc=await common_1.default.crypto.hash(hashPair,'SHA-384');return await deepHashChunks(chunks.slice(1),newAcc)}Object.defineProperty(exports,'__esModule',{value:!0});const common_1=__webpack_require__(2);exports.default=deepHash},function(module,exports,__webpack_require__){'use strict';var _Mathpow=Math.pow,_Mathfloor=Math.floor,_Mathmin=Math.min;(function(global){function kMaxLength(){return Buffer.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function createBuffer(that,length){if(kMaxLength()<length)throw new RangeError('Invalid typed array length');return Buffer.TYPED_ARRAY_SUPPORT?(that=new Uint8Array(length),that.__proto__=Buffer.prototype):(null===that&&(that=new Buffer(length)),that.length=length),that}function Buffer(arg,encodingOrOffset,length){if(!Buffer.TYPED_ARRAY_SUPPORT&&!(this instanceof Buffer))return new Buffer(arg,encodingOrOffset,length);if('number'==typeof arg){if('string'==typeof encodingOrOffset)throw new Error('If encoding is specified then the first argument must be a string');return allocUnsafe(this,arg)}return from(this,arg,encodingOrOffset,length)}function from(that,value,encodingOrOffset,length){if('number'==typeof value)throw new TypeError('"value" argument must not be a number');return'undefined'!=typeof ArrayBuffer&&value instanceof ArrayBuffer?fromArrayBuffer(that,value,encodingOrOffset,length):'string'==typeof value?fromString(that,value,encodingOrOffset):fromObject(that,value)}function assertSize(size){if('number'!=typeof size)throw new TypeError('"size" argument must be a number');else if(0>size)throw new RangeError('"size" argument must not be negative')}function alloc(that,size,fill,encoding){return assertSize(size),0>=size?createBuffer(that,size):void 0===fill?createBuffer(that,size):'string'==typeof encoding?createBuffer(that,size).fill(fill,encoding):createBuffer(that,size).fill(fill)}function allocUnsafe(that,size){if(assertSize(size),that=createBuffer(that,0>size?0:0|checked(size)),!Buffer.TYPED_ARRAY_SUPPORT)for(var i=0;i<size;++i)that[i]=0;return that}function fromString(that,string,encoding){if(('string'!=typeof encoding||''===encoding)&&(encoding='utf8'),!Buffer.isEncoding(encoding))throw new TypeError('"encoding" must be a valid string encoding');var length=0|byteLength(string,encoding);that=createBuffer(that,length);var actual=that.write(string,encoding);return actual!==length&&(that=that.slice(0,actual)),that}function fromArrayLike(that,array){var length=0>array.length?0:0|checked(array.length);that=createBuffer(that,length);for(var i=0;i<length;i+=1)that[i]=255&array[i];return that}function fromArrayBuffer(that,array,byteOffset,length){if(array.byteLength,0>byteOffset||array.byteLength<byteOffset)throw new RangeError('\'offset\' is out of bounds');if(array.byteLength<byteOffset+(length||0))throw new RangeError('\'length\' is out of bounds');return array=void 0===byteOffset&&void 0===length?new Uint8Array(array):void 0===length?new Uint8Array(array,byteOffset):new Uint8Array(array,byteOffset,length),Buffer.TYPED_ARRAY_SUPPORT?(that=array,that.__proto__=Buffer.prototype):that=fromArrayLike(that,array),that}function fromObject(that,obj){if(Buffer.isBuffer(obj)){var len=0|checked(obj.length);return(that=createBuffer(that,len),0===that.length)?that:(obj.copy(that,0,0,len),that)}if(obj){if('undefined'!=typeof ArrayBuffer&&obj.buffer instanceof ArrayBuffer||'length'in obj)return'number'!=typeof obj.length||isnan(obj.length)?createBuffer(that,0):fromArrayLike(that,obj);if('Buffer'===obj.type&&isArray(obj.data))return fromArrayLike(that,obj.data)}throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')}function checked(length){if(length>=kMaxLength())throw new RangeError('Attempt to allocate Buffer larger than maximum size: 0x'+kMaxLength().toString(16)+' bytes');return 0|length}function byteLength(string,encoding){if(Buffer.isBuffer(string))return string.length;if('undefined'!=typeof ArrayBuffer&&'function'==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(string)||string instanceof ArrayBuffer))return string.byteLength;'string'!=typeof string&&(string=''+string);var len=string.length;if(0===len)return 0;for(var loweredCase=!1;;)switch(encoding){case'ascii':case'latin1':case'binary':return len;case'utf8':case'utf-8':case void 0:return utf8ToBytes(string).length;case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':return 2*len;case'hex':return len>>>1;case'base64':return base64ToBytes(string).length;default:if(loweredCase)return utf8ToBytes(string).length;encoding=(''+encoding).toLowerCase(),loweredCase=!0;}}function slowToString(encoding,start,end){var loweredCase=!1;if((void 0===start||0>start)&&(start=0),start>this.length)return'';if((void 0===end||end>this.length)&&(end=this.length),0>=end)return'';if(end>>>=0,start>>>=0,end<=start)return'';for(encoding||(encoding='utf8');;)switch(encoding){case'hex':return hexSlice(this,start,end);case'utf8':case'utf-8':return utf8Slice(this,start,end);case'ascii':return asciiSlice(this,start,end);case'latin1':case'binary':return latin1Slice(this,start,end);case'base64':return base64Slice(this,start,end);case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':return utf16leSlice(this,start,end);default:if(loweredCase)throw new TypeError('Unknown encoding: '+encoding);encoding=(encoding+'').toLowerCase(),loweredCase=!0;}}function swap(b,n,m){var i=b[n];b[n]=b[m],b[m]=i}function bidirectionalIndexOf(buffer,val,byteOffset,encoding,dir){if(0===buffer.length)return-1;if('string'==typeof byteOffset?(encoding=byteOffset,byteOffset=0):2147483647<byteOffset?byteOffset=2147483647:-2147483648>byteOffset&&(byteOffset=-2147483648),byteOffset=+byteOffset,isNaN(byteOffset)&&(byteOffset=dir?0:buffer.length-1),0>byteOffset&&(byteOffset=buffer.length+byteOffset),byteOffset>=buffer.length){if(dir)return-1;byteOffset=buffer.length-1}else if(0>byteOffset)if(dir)byteOffset=0;else return-1;if('string'==typeof val&&(val=Buffer.from(val,encoding)),Buffer.isBuffer(val))return 0===val.length?-1:arrayIndexOf(buffer,val,byteOffset,encoding,dir);if('number'==typeof val)return val&=255,Buffer.TYPED_ARRAY_SUPPORT&&'function'==typeof Uint8Array.prototype.indexOf?dir?Uint8Array.prototype.indexOf.call(buffer,val,byteOffset):Uint8Array.prototype.lastIndexOf.call(buffer,val,byteOffset):arrayIndexOf(buffer,[val],byteOffset,encoding,dir);throw new TypeError('val must be string, number or Buffer')}function arrayIndexOf(arr,val,byteOffset,encoding,dir){function read(buf,i){return 1===indexSize?buf[i]:buf.readUInt16BE(i*indexSize)}var indexSize=1,arrLength=arr.length,valLength=val.length;if(void 0!==encoding&&(encoding=(encoding+'').toLowerCase(),'ucs2'===encoding||'ucs-2'===encoding||'utf16le'===encoding||'utf-16le'===encoding)){if(2>arr.length||2>val.length)return-1;indexSize=2,arrLength/=2,valLength/=2,byteOffset/=2}var i;if(dir){var foundIndex=-1;for(i=byteOffset;i<arrLength;i++)if(read(arr,i)!==read(val,-1==foundIndex?0:i-foundIndex))-1!=foundIndex&&(i-=i-foundIndex),foundIndex=-1;else if(-1==foundIndex&&(foundIndex=i),i-foundIndex+1===valLength)return foundIndex*indexSize}else for(byteOffset+valLength>arrLength&&(byteOffset=arrLength-valLength),i=byteOffset;0<=i;i--){for(var found=!0,j=0;j<valLength;j++)if(read(arr,i+j)!==read(val,j)){found=!1;break}if(found)return i}return-1}function hexWrite(buf,string,offset,length){offset=+offset||0;var remaining=buf.length-offset;length?(length=+length,length>remaining&&(length=remaining)):length=remaining;var strLen=string.length;if(0!=strLen%2)throw new TypeError('Invalid hex string');length>strLen/2&&(length=strLen/2);for(var parsed,i=0;i<length;++i){if(parsed=parseInt(string.substr(2*i,2),16),isNaN(parsed))return i;buf[offset+i]=parsed}return i}function utf8Write(buf,string,offset,length){return blitBuffer(utf8ToBytes(string,buf.length-offset),buf,offset,length)}function asciiWrite(buf,string,offset,length){return blitBuffer(asciiToBytes(string),buf,offset,length)}function latin1Write(buf,string,offset,length){return asciiWrite(buf,string,offset,length)}function base64Write(buf,string,offset,length){return blitBuffer(base64ToBytes(string),buf,offset,length)}function ucs2Write(buf,string,offset,length){return blitBuffer(utf16leToBytes(string,buf.length-offset),buf,offset,length)}function base64Slice(buf,start,end){return 0===start&&end===buf.length?base64.fromByteArray(buf):base64.fromByteArray(buf.slice(start,end))}function utf8Slice(buf,start,end){end=_Mathmin(buf.length,end);for(var res=[],i=start;i<end;){var firstByte=buf[i],codePoint=null,bytesPerSequence=239<firstByte?4:223<firstByte?3:191<firstByte?2:1;if(i+bytesPerSequence<=end){var secondByte,thirdByte,fourthByte,tempCodePoint;1==bytesPerSequence?128>firstByte&&(codePoint=firstByte):2==bytesPerSequence?(secondByte=buf[i+1],128==(192&secondByte)&&(tempCodePoint=(31&firstByte)<<6|63&secondByte,127<tempCodePoint&&(codePoint=tempCodePoint))):3==bytesPerSequence?(secondByte=buf[i+1],thirdByte=buf[i+2],128==(192&secondByte)&&128==(192&thirdByte)&&(tempCodePoint=(15&firstByte)<<12|(63&secondByte)<<6|63&thirdByte,2047<tempCodePoint&&(55296>tempCodePoint||57343<tempCodePoint)&&(codePoint=tempCodePoint))):4==bytesPerSequence?(secondByte=buf[i+1],thirdByte=buf[i+2],fourthByte=buf[i+3],128==(192&secondByte)&&128==(192&thirdByte)&&128==(192&fourthByte)&&(tempCodePoint=(15&firstByte)<<18|(63&secondByte)<<12|(63&thirdByte)<<6|63&fourthByte,65535<tempCodePoint&&1114112>tempCodePoint&&(codePoint=tempCodePoint))):void 0}null===codePoint?(codePoint=65533,bytesPerSequence=1):65535<codePoint&&(codePoint-=65536,res.push(55296|1023&codePoint>>>10),codePoint=56320|1023&codePoint),res.push(codePoint),i+=bytesPerSequence}return decodeCodePointsArray(res)}function decodeCodePointsArray(codePoints){var len=codePoints.length;if(len<=MAX_ARGUMENTS_LENGTH)return _StringfromCharCode.apply(String,codePoints);for(var res='',i=0;i<len;)res+=_StringfromCharCode.apply(String,codePoints.slice(i,i+=MAX_ARGUMENTS_LENGTH));return res}function asciiSlice(buf,start,end){var ret='';end=_Mathmin(buf.length,end);for(var i=start;i<end;++i)ret+=_StringfromCharCode(127&buf[i]);return ret}function latin1Slice(buf,start,end){var ret='';end=_Mathmin(buf.length,end);for(var i=start;i<end;++i)ret+=_StringfromCharCode(buf[i]);return ret}function hexSlice(buf,start,end){var len=buf.length;(!start||0>start)&&(start=0),(!end||0>end||end>len)&&(end=len);for(var out='',i=start;i<end;++i)out+=toHex(buf[i]);return out}function utf16leSlice(buf,start,end){for(var bytes=buf.slice(start,end),res='',i=0;i<bytes.length;i+=2)res+=_StringfromCharCode(bytes[i]+256*bytes[i+1]);return res}function checkOffset(offset,ext,length){if(0!=offset%1||0>offset)throw new RangeError('offset is not uint');if(offset+ext>length)throw new RangeError('Trying to access beyond buffer length')}function checkInt(buf,value,offset,ext,max,min){if(!Buffer.isBuffer(buf))throw new TypeError('"buffer" argument must be a Buffer instance');if(value>max||value<min)throw new RangeError('"value" argument is out of bounds');if(offset+ext>buf.length)throw new RangeError('Index out of range')}function objectWriteUInt16(buf,value,offset,littleEndian){0>value&&(value=65535+value+1);for(var i=0,j=_Mathmin(buf.length-offset,2);i<j;++i)buf[offset+i]=(value&255<<8*(littleEndian?i:1-i))>>>8*(littleEndian?i:1-i)}function objectWriteUInt32(buf,value,offset,littleEndian){0>value&&(value=4294967295+value+1);for(var i=0,j=_Mathmin(buf.length-offset,4);i<j;++i)buf[offset+i]=255&value>>>8*(littleEndian?i:3-i)}function checkIEEE754(buf,value,offset,ext){if(offset+ext>buf.length)throw new RangeError('Index out of range');if(0>offset)throw new RangeError('Index out of range')}function writeFloat(buf,value,offset,littleEndian,noAssert){return noAssert||checkIEEE754(buf,value,offset,4,34028234663852886e22,-34028234663852886e22),ieee754.write(buf,value,offset,littleEndian,23,4),offset+4}function writeDouble(buf,value,offset,littleEndian,noAssert){return noAssert||checkIEEE754(buf,value,offset,8,17976931348623157e292,-17976931348623157e292),ieee754.write(buf,value,offset,littleEndian,52,8),offset+8}function base64clean(str){if(str=stringtrim(str).replace(INVALID_BASE64_RE,''),2>str.length)return'';for(;0!=str.length%4;)str+='=';return str}function stringtrim(str){return str.trim?str.trim():str.replace(/^\s+|\s+$/g,'')}function toHex(n){return 16>n?'0'+n.toString(16):n.toString(16)}function utf8ToBytes(string,units){units=units||Infinity;for(var codePoint,length=string.length,leadSurrogate=null,bytes=[],i=0;i<length;++i){if(codePoint=string.charCodeAt(i),55295<codePoint&&57344>codePoint){if(!leadSurrogate){if(56319<codePoint){-1<(units-=3)&&bytes.push(239,191,189);continue}else if(i+1===length){-1<(units-=3)&&bytes.push(239,191,189);continue}leadSurrogate=codePoint;continue}if(56320>codePoint){-1<(units-=3)&&bytes.push(239,191,189),leadSurrogate=codePoint;continue}codePoint=(leadSurrogate-55296<<10|codePoint-56320)+65536}else leadSurrogate&&-1<(units-=3)&&bytes.push(239,191,189);if(leadSurrogate=null,128>codePoint){if(0>(units-=1))break;bytes.push(codePoint)}else if(2048>codePoint){if(0>(units-=2))break;bytes.push(192|codePoint>>6,128|63&codePoint)}else if(65536>codePoint){if(0>(units-=3))break;bytes.push(224|codePoint>>12,128|63&codePoint>>6,128|63&codePoint)}else if(1114112>codePoint){if(0>(units-=4))break;bytes.push(240|codePoint>>18,128|63&codePoint>>12,128|63&codePoint>>6,128|63&codePoint)}else throw new Error('Invalid code point')}return bytes}function asciiToBytes(str){for(var byteArray=[],i=0;i<str.length;++i)byteArray.push(255&str.charCodeAt(i));return byteArray}function utf16leToBytes(str,units){for(var c,hi,lo,byteArray=[],i=0;i<str.length&&!(0>(units-=2));++i)c=str.charCodeAt(i),hi=c>>8,lo=c%256,byteArray.push(lo),byteArray.push(hi);return byteArray}function base64ToBytes(str){return base64.toByteArray(base64clean(str))}function blitBuffer(src,dst,offset,length){for(var i=0;i<length&&!(i+offset>=dst.length||i>=src.length);++i)dst[i+offset]=src[i];return i}function isnan(val){return val!==val}var _StringfromCharCode=String.fromCharCode,base64=__webpack_require__(15),ieee754=__webpack_require__(45),isArray=__webpack_require__(46);/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */exports.Buffer=Buffer,exports.SlowBuffer=function(length){return+length!=length&&(length=0),Buffer.alloc(+length)},exports.INSPECT_MAX_BYTES=50,Buffer.TYPED_ARRAY_SUPPORT=global.TYPED_ARRAY_SUPPORT===void 0?function(){try{var arr=new Uint8Array(1);return arr.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===arr.foo()&&'function'==typeof arr.subarray&&0===arr.subarray(1,1).byteLength}catch(e){return!1}}():global.TYPED_ARRAY_SUPPORT,exports.kMaxLength=kMaxLength(),Buffer.poolSize=8192,Buffer._augment=function(arr){return arr.__proto__=Buffer.prototype,arr},Buffer.from=function(value,encodingOrOffset,length){return from(null,value,encodingOrOffset,length)},Buffer.TYPED_ARRAY_SUPPORT&&(Buffer.prototype.__proto__=Uint8Array.prototype,Buffer.__proto__=Uint8Array,'undefined'!=typeof Symbol&&Symbol.species&&Buffer[Symbol.species]===Buffer&&Object.defineProperty(Buffer,Symbol.species,{value:null,configurable:!0})),Buffer.alloc=function(size,fill,encoding){return alloc(null,size,fill,encoding)},Buffer.allocUnsafe=function(size){return allocUnsafe(null,size)},Buffer.allocUnsafeSlow=function(size){return allocUnsafe(null,size)},Buffer.isBuffer=function(b){return!!(null!=b&&b._isBuffer)},Buffer.compare=function(a,b){if(!Buffer.isBuffer(a)||!Buffer.isBuffer(b))throw new TypeError('Arguments must be Buffers');if(a===b)return 0;for(var x=a.length,y=b.length,i=0,len=_Mathmin(x,y);i<len;++i)if(a[i]!==b[i]){x=a[i],y=b[i];break}return x<y?-1:y<x?1:0},Buffer.isEncoding=function(encoding){switch((encoding+'').toLowerCase()){case'hex':case'utf8':case'utf-8':case'ascii':case'latin1':case'binary':case'base64':case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':return!0;default:return!1;}},Buffer.concat=function(list,length){if(!isArray(list))throw new TypeError('"list" argument must be an Array of Buffers');if(0===list.length)return Buffer.alloc(0);var i;if(length===void 0)for(length=0,i=0;i<list.length;++i)length+=list[i].length;var buffer=Buffer.allocUnsafe(length),pos=0;for(i=0;i<list.length;++i){var buf=list[i];if(!Buffer.isBuffer(buf))throw new TypeError('"list" argument must be an Array of Buffers');buf.copy(buffer,pos),pos+=buf.length}return buffer},Buffer.byteLength=byteLength,Buffer.prototype._isBuffer=!0,Buffer.prototype.swap16=function(){var len=this.length;if(0!=len%2)throw new RangeError('Buffer size must be a multiple of 16-bits');for(var i=0;i<len;i+=2)swap(this,i,i+1);return this},Buffer.prototype.swap32=function(){var len=this.length;if(0!=len%4)throw new RangeError('Buffer size must be a multiple of 32-bits');for(var i=0;i<len;i+=4)swap(this,i,i+3),swap(this,i+1,i+2);return this},Buffer.prototype.swap64=function(){var len=this.length;if(0!=len%8)throw new RangeError('Buffer size must be a multiple of 64-bits');for(var i=0;i<len;i+=8)swap(this,i,i+7),swap(this,i+1,i+6),swap(this,i+2,i+5),swap(this,i+3,i+4);return this},Buffer.prototype.toString=function(){var length=0|this.length;return 0==length?'':0===arguments.length?utf8Slice(this,0,length):slowToString.apply(this,arguments)},Buffer.prototype.equals=function(b){if(!Buffer.isBuffer(b))throw new TypeError('Argument must be a Buffer');return this===b||0===Buffer.compare(this,b)},Buffer.prototype.inspect=function(){var str='',max=exports.INSPECT_MAX_BYTES;return 0<this.length&&(str=this.toString('hex',0,max).match(/.{2}/g).join(' '),this.length>max&&(str+=' ... ')),'<Buffer '+str+'>'},Buffer.prototype.compare=function(target,start,end,thisStart,thisEnd){if(!Buffer.isBuffer(target))throw new TypeError('Argument must be a Buffer');if(void 0===start&&(start=0),void 0===end&&(end=target?target.length:0),void 0===thisStart&&(thisStart=0),void 0===thisEnd&&(thisEnd=this.length),0>start||end>target.length||0>thisStart||thisEnd>this.length)throw new RangeError('out of range index');if(thisStart>=thisEnd&&start>=end)return 0;if(thisStart>=thisEnd)return-1;if(start>=end)return 1;if(start>>>=0,end>>>=0,thisStart>>>=0,thisEnd>>>=0,this===target)return 0;for(var x=thisEnd-thisStart,y=end-start,len=_Mathmin(x,y),thisCopy=this.slice(thisStart,thisEnd),targetCopy=target.slice(start,end),i=0;i<len;++i)if(thisCopy[i]!==targetCopy[i]){x=thisCopy[i],y=targetCopy[i];break}return x<y?-1:y<x?1:0},Buffer.prototype.includes=function(val,byteOffset,encoding){return-1!==this.indexOf(val,byteOffset,encoding)},Buffer.prototype.indexOf=function(val,byteOffset,encoding){return bidirectionalIndexOf(this,val,byteOffset,encoding,!0)},Buffer.prototype.lastIndexOf=function(val,byteOffset,encoding){return bidirectionalIndexOf(this,val,byteOffset,encoding,!1)},Buffer.prototype.write=function(string,offset,length,encoding){if(void 0===offset)encoding='utf8',length=this.length,offset=0;else if(void 0===length&&'string'==typeof offset)encoding=offset,length=this.length,offset=0;else if(isFinite(offset))offset|=0,isFinite(length)?(length|=0,void 0===encoding&&(encoding='utf8')):(encoding=length,length=void 0);else throw new Error('Buffer.write(string, encoding, offset[, length]) is no longer supported');var remaining=this.length-offset;if((void 0===length||length>remaining)&&(length=remaining),0<string.length&&(0>length||0>offset)||offset>this.length)throw new RangeError('Attempt to write outside buffer bounds');encoding||(encoding='utf8');for(var loweredCase=!1;;)switch(encoding){case'hex':return hexWrite(this,string,offset,length);case'utf8':case'utf-8':return utf8Write(this,string,offset,length);case'ascii':return asciiWrite(this,string,offset,length);case'latin1':case'binary':return latin1Write(this,string,offset,length);case'base64':return base64Write(this,string,offset,length);case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':return ucs2Write(this,string,offset,length);default:if(loweredCase)throw new TypeError('Unknown encoding: '+encoding);encoding=(''+encoding).toLowerCase(),loweredCase=!0;}},Buffer.prototype.toJSON=function(){return{type:'Buffer',data:Array.prototype.slice.call(this._arr||this,0)}};var MAX_ARGUMENTS_LENGTH=4096;Buffer.prototype.slice=function(start,end){var len=this.length;start=~~start,end=end===void 0?len:~~end,0>start?(start+=len,0>start&&(start=0)):start>len&&(start=len),0>end?(end+=len,0>end&&(end=0)):end>len&&(end=len),end<start&&(end=start);var newBuf;if(Buffer.TYPED_ARRAY_SUPPORT)newBuf=this.subarray(start,end),newBuf.__proto__=Buffer.prototype;else{var sliceLen=end-start;newBuf=new Buffer(sliceLen,void 0);for(var i=0;i<sliceLen;++i)newBuf[i]=this[i+start]}return newBuf},Buffer.prototype.readUIntLE=function(offset,byteLength,noAssert){offset|=0,byteLength|=0,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset],mul=1,i=0;++i<byteLength&&(mul*=256);)val+=this[offset+i]*mul;return val},Buffer.prototype.readUIntBE=function(offset,byteLength,noAssert){offset|=0,byteLength|=0,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset+--byteLength],mul=1;0<byteLength&&(mul*=256);)val+=this[offset+--byteLength]*mul;return val},Buffer.prototype.readUInt8=function(offset,noAssert){return noAssert||checkOffset(offset,1,this.length),this[offset]},Buffer.prototype.readUInt16LE=function(offset,noAssert){return noAssert||checkOffset(offset,2,this.length),this[offset]|this[offset+1]<<8},Buffer.prototype.readUInt16BE=function(offset,noAssert){return noAssert||checkOffset(offset,2,this.length),this[offset]<<8|this[offset+1]},Buffer.prototype.readUInt32LE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),(this[offset]|this[offset+1]<<8|this[offset+2]<<16)+16777216*this[offset+3]},Buffer.prototype.readUInt32BE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),16777216*this[offset]+(this[offset+1]<<16|this[offset+2]<<8|this[offset+3])},Buffer.prototype.readIntLE=function(offset,byteLength,noAssert){offset|=0,byteLength|=0,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset],mul=1,i=0;++i<byteLength&&(mul*=256);)val+=this[offset+i]*mul;return mul*=128,val>=mul&&(val-=_Mathpow(2,8*byteLength)),val},Buffer.prototype.readIntBE=function(offset,byteLength,noAssert){offset|=0,byteLength|=0,noAssert||checkOffset(offset,byteLength,this.length);for(var i=byteLength,mul=1,val=this[offset+--i];0<i&&(mul*=256);)val+=this[offset+--i]*mul;return mul*=128,val>=mul&&(val-=_Mathpow(2,8*byteLength)),val},Buffer.prototype.readInt8=function(offset,noAssert){return noAssert||checkOffset(offset,1,this.length),128&this[offset]?-1*(255-this[offset]+1):this[offset]},Buffer.prototype.readInt16LE=function(offset,noAssert){noAssert||checkOffset(offset,2,this.length);var val=this[offset]|this[offset+1]<<8;return 32768&val?4294901760|val:val},Buffer.prototype.readInt16BE=function(offset,noAssert){noAssert||checkOffset(offset,2,this.length);var val=this[offset+1]|this[offset]<<8;return 32768&val?4294901760|val:val},Buffer.prototype.readInt32LE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),this[offset]|this[offset+1]<<8|this[offset+2]<<16|this[offset+3]<<24},Buffer.prototype.readInt32BE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),this[offset]<<24|this[offset+1]<<16|this[offset+2]<<8|this[offset+3]},Buffer.prototype.readFloatLE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),ieee754.read(this,offset,!0,23,4)},Buffer.prototype.readFloatBE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),ieee754.read(this,offset,!1,23,4)},Buffer.prototype.readDoubleLE=function(offset,noAssert){return noAssert||checkOffset(offset,8,this.length),ieee754.read(this,offset,!0,52,8)},Buffer.prototype.readDoubleBE=function(offset,noAssert){return noAssert||checkOffset(offset,8,this.length),ieee754.read(this,offset,!1,52,8)},Buffer.prototype.writeUIntLE=function(value,offset,byteLength,noAssert){if(value=+value,offset|=0,byteLength|=0,!noAssert){var maxBytes=_Mathpow(2,8*byteLength)-1;checkInt(this,value,offset,byteLength,maxBytes,0)}var mul=1,i=0;for(this[offset]=255&value;++i<byteLength&&(mul*=256);)this[offset+i]=255&value/mul;return offset+byteLength},Buffer.prototype.writeUIntBE=function(value,offset,byteLength,noAssert){if(value=+value,offset|=0,byteLength|=0,!noAssert){var maxBytes=_Mathpow(2,8*byteLength)-1;checkInt(this,value,offset,byteLength,maxBytes,0)}var i=byteLength-1,mul=1;for(this[offset+i]=255&value;0<=--i&&(mul*=256);)this[offset+i]=255&value/mul;return offset+byteLength},Buffer.prototype.writeUInt8=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,1,255,0),Buffer.TYPED_ARRAY_SUPPORT||(value=_Mathfloor(value)),this[offset]=255&value,offset+1},Buffer.prototype.writeUInt16LE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=255&value,this[offset+1]=value>>>8):objectWriteUInt16(this,value,offset,!0),offset+2},Buffer.prototype.writeUInt16BE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value>>>8,this[offset+1]=255&value):objectWriteUInt16(this,value,offset,!1),offset+2},Buffer.prototype.writeUInt32LE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[offset+3]=value>>>24,this[offset+2]=value>>>16,this[offset+1]=value>>>8,this[offset]=255&value):objectWriteUInt32(this,value,offset,!0),offset+4},Buffer.prototype.writeUInt32BE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value>>>24,this[offset+1]=value>>>16,this[offset+2]=value>>>8,this[offset+3]=255&value):objectWriteUInt32(this,value,offset,!1),offset+4},Buffer.prototype.writeIntLE=function(value,offset,byteLength,noAssert){if(value=+value,offset|=0,!noAssert){var limit=_Mathpow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=0,mul=1,sub=0;for(this[offset]=255&value;++i<byteLength&&(mul*=256);)0>value&&0==sub&&0!==this[offset+i-1]&&(sub=1),this[offset+i]=255&(value/mul>>0)-sub;return offset+byteLength},Buffer.prototype.writeIntBE=function(value,offset,byteLength,noAssert){if(value=+value,offset|=0,!noAssert){var limit=_Mathpow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=byteLength-1,mul=1,sub=0;for(this[offset+i]=255&value;0<=--i&&(mul*=256);)0>value&&0==sub&&0!==this[offset+i+1]&&(sub=1),this[offset+i]=255&(value/mul>>0)-sub;return offset+byteLength},Buffer.prototype.writeInt8=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,1,127,-128),Buffer.TYPED_ARRAY_SUPPORT||(value=_Mathfloor(value)),0>value&&(value=255+value+1),this[offset]=255&value,offset+1},Buffer.prototype.writeInt16LE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=255&value,this[offset+1]=value>>>8):objectWriteUInt16(this,value,offset,!0),offset+2},Buffer.prototype.writeInt16BE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value>>>8,this[offset+1]=255&value):objectWriteUInt16(this,value,offset,!1),offset+2},Buffer.prototype.writeInt32LE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,4,2147483647,-2147483648),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=255&value,this[offset+1]=value>>>8,this[offset+2]=value>>>16,this[offset+3]=value>>>24):objectWriteUInt32(this,value,offset,!0),offset+4},Buffer.prototype.writeInt32BE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,4,2147483647,-2147483648),0>value&&(value=4294967295+value+1),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value>>>24,this[offset+1]=value>>>16,this[offset+2]=value>>>8,this[offset+3]=255&value):objectWriteUInt32(this,value,offset,!1),offset+4},Buffer.prototype.writeFloatLE=function(value,offset,noAssert){return writeFloat(this,value,offset,!0,noAssert)},Buffer.prototype.writeFloatBE=function(value,offset,noAssert){return writeFloat(this,value,offset,!1,noAssert)},Buffer.prototype.writeDoubleLE=function(value,offset,noAssert){return writeDouble(this,value,offset,!0,noAssert)},Buffer.prototype.writeDoubleBE=function(value,offset,noAssert){return writeDouble(this,value,offset,!1,noAssert)},Buffer.prototype.copy=function(target,targetStart,start,end){if(start||(start=0),end||0===end||(end=this.length),targetStart>=target.length&&(targetStart=target.length),targetStart||(targetStart=0),0<end&&end<start&&(end=start),end===start)return 0;if(0===target.length||0===this.length)return 0;if(0>targetStart)throw new RangeError('targetStart out of bounds');if(0>start||start>=this.length)throw new RangeError('sourceStart out of bounds');if(0>end)throw new RangeError('sourceEnd out of bounds');end>this.length&&(end=this.length),target.length-targetStart<end-start&&(end=target.length-targetStart+start);var i,len=end-start;if(this===target&&start<targetStart&&targetStart<end)for(i=len-1;0<=i;--i)target[i+targetStart]=this[i+start];else if(1e3>len||!Buffer.TYPED_ARRAY_SUPPORT)for(i=0;i<len;++i)target[i+targetStart]=this[i+start];else Uint8Array.prototype.set.call(target,this.subarray(start,start+len),targetStart);return len},Buffer.prototype.fill=function(val,start,end,encoding){if('string'==typeof val){if('string'==typeof start?(encoding=start,start=0,end=this.length):'string'==typeof end&&(encoding=end,end=this.length),1===val.length){var code=val.charCodeAt(0);256>code&&(val=code)}if(void 0!==encoding&&'string'!=typeof encoding)throw new TypeError('encoding must be a string');if('string'==typeof encoding&&!Buffer.isEncoding(encoding))throw new TypeError('Unknown encoding: '+encoding)}else'number'==typeof val&&(val&=255);if(0>start||this.length<start||this.length<end)throw new RangeError('Out of range index');if(end<=start)return this;start>>>=0,end=end===void 0?this.length:end>>>0,val||(val=0);var i;if('number'==typeof val)for(i=start;i<end;++i)this[i]=val;else{var bytes=Buffer.isBuffer(val)?val:utf8ToBytes(new Buffer(val,encoding).toString()),len=bytes.length;for(i=0;i<end-start;++i)this[i+start]=bytes[i%len]}return this};var INVALID_BASE64_RE=/[^+\/0-9A-Za-z-_]/g}).call(this,__webpack_require__(44))},function(module){var g=function(){return this}();try{g=g||new Function('return this')()}catch(e){'object'==typeof window&&(g=window)}module.exports=g},function(module,exports){var _Mathpow2=Math.pow;exports.read=function(buffer,offset,isLE,mLen,nBytes){var e,m,eLen=8*nBytes-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,nBits=-7,i=isLE?nBytes-1:0,d=isLE?-1:1,s=buffer[offset+i];for(i+=d,e=s&(1<<-nBits)-1,s>>=-nBits,nBits+=eLen;0<nBits;e=256*e+buffer[offset+i],i+=d,nBits-=8);for(m=e&(1<<-nBits)-1,e>>=-nBits,nBits+=mLen;0<nBits;m=256*m+buffer[offset+i],i+=d,nBits-=8);if(0===e)e=1-eBias;else{if(e===eMax)return m?NaN:(s?-1:1)*Infinity;m+=_Mathpow2(2,mLen),e-=eBias}return(s?-1:1)*m*_Mathpow2(2,e-mLen)},exports.write=function(buffer,value,offset,isLE,mLen,nBytes){var e,m,c,eLen=8*nBytes-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,rt=23===mLen?5.960464477539063e-8-6.617444900424222e-24:0,i=isLE?0:nBytes-1,d=isLE?1:-1,s=0>value||0===value&&0>1/value?1:0;for(value=Math.abs(value),isNaN(value)||value===Infinity?(m=isNaN(value)?1:0,e=eMax):(e=Math.floor(Math.log(value)/Math.LN2),1>value*(c=_Mathpow2(2,-e))&&(e--,c*=2),value+=1<=e+eBias?rt/c:rt*_Mathpow2(2,1-eBias),2<=value*c&&(e++,c/=2),e+eBias>=eMax?(m=0,e=eMax):1<=e+eBias?(m=(value*c-1)*_Mathpow2(2,mLen),e+=eBias):(m=value*_Mathpow2(2,eBias-1)*_Mathpow2(2,mLen),e=0));8<=mLen;buffer[offset+i]=255&m,i+=d,m/=256,mLen-=8);for(e=e<<mLen|m,eLen+=mLen;0<eLen;buffer[offset+i]=255&e,i+=d,e/=256,eLen-=8);buffer[offset+i-d]|=128*s}},function(module){var toString={}.toString;module.exports=Array.isArray||function(arr){return'[object Array]'==toString.call(arr)}},function(module,exports,__webpack_require__){'use strict';Object.defineProperty(exports,'__esModule',{value:!0}),exports.TransactionUploader=void 0;const transaction_1=__webpack_require__(5),ArweaveUtils=__webpack_require__(1),error_1=__webpack_require__(4),merkle_1=__webpack_require__(16),MAX_CHUNKS_IN_BODY=1,FATAL_CHUNK_UPLOAD_ERRORS=['invalid_json','chunk_too_big','data_path_too_big','offset_too_big','data_size_too_big','chunk_proof_ratio_not_attractive','invalid_proof'],ERROR_DELAY=40000;class TransactionUploader{constructor(api,transaction){if(this.api=api,this.chunkIndex=0,this.txPosted=!1,this.lastRequestTimeEnd=0,this.totalErrors=0,this.lastResponseStatus=0,this.lastResponseError='',!transaction.id)throw new Error(`Transaction is not signed`);if(!transaction.chunks)throw new Error(`Transaction chunks not prepared`);this.data=transaction.data,this.transaction=new transaction_1.default(Object.assign({},transaction,{data:new Uint8Array(0)}))}get isComplete(){return this.txPosted&&this.chunkIndex===this.transaction.chunks.chunks.length}get totalChunks(){return this.transaction.chunks.chunks.length}get uploadedChunks(){return this.chunkIndex}get pctComplete(){return Math.trunc(100*(this.uploadedChunks/this.totalChunks))}async uploadChunk(){if(this.isComplete)throw new Error(`Upload is already complete`);if(''===this.lastResponseError?this.totalErrors=0:this.totalErrors++,100===this.totalErrors)throw new Error(`Unable to complete upload: ${this.lastResponseStatus}: ${this.lastResponseError}`);let delay=''===this.lastResponseError?0:Math.max(this.lastRequestTimeEnd+ERROR_DELAY-Date.now(),ERROR_DELAY);if(0<delay&&(delay-=.3*(delay*Math.random()),await new Promise(res=>setTimeout(res,delay))),this.lastResponseError='',!this.txPosted)return void(await this.postTransaction());const chunk=this.transaction.getChunk(this.chunkIndex,this.data),chunkOk=await merkle_1.validatePath(this.transaction.chunks.data_root,parseInt(chunk.offset),0,parseInt(chunk.data_size),ArweaveUtils.b64UrlToBuffer(chunk.data_path));if(!chunkOk)throw new Error(`Unable to validate chunk ${this.chunkIndex}`);const resp=await this.api.post(`chunk`,this.transaction.getChunk(this.chunkIndex,this.data)).catch(e=>(console.error(e.message),{status:-1,data:{error:e.message}}));if(this.lastRequestTimeEnd=Date.now(),this.lastResponseStatus=resp.status,200==this.lastResponseStatus)this.chunkIndex++;else if(this.lastResponseError=error_1.getError(resp),FATAL_CHUNK_UPLOAD_ERRORS.includes(this.lastResponseError))throw new Error(`Fatal error uploading chunk ${this.chunkIndex}: ${this.lastResponseError}`)}static async fromSerialized(api,serialized,data){if(!serialized||'number'!=typeof serialized.chunkIndex||'object'!=typeof serialized.transaction)throw new Error(`Serialized object does not match expected format.`);const upload=new TransactionUploader(api,new transaction_1.default(serialized.transaction));if(upload.chunkIndex=serialized.chunkIndex,upload.lastRequestTimeEnd=serialized.lastRequestTimeEnd,upload.lastResponseError=serialized.lastResponseError,upload.lastResponseStatus=serialized.lastResponseStatus,upload.txPosted=serialized.txPosted,upload.data=data,await upload.transaction.prepareChunks(data),upload.transaction.data_root!==serialized.transaction.data_root)throw new Error(`Data mismatch: Uploader doesn't match provided data.`);return upload}static async fromTransactionId(api,id){const resp=await api.get(`tx/${id}`);if(200!==resp.status)throw new Error(`Tx ${id} not found: ${resp.status}`);const transaction=resp.data;transaction.data=new Uint8Array(0);return{txPosted:!0,chunkIndex:0,lastResponseError:'',lastRequestTimeEnd:0,lastResponseStatus:0,transaction}}toJSON(){return{chunkIndex:this.chunkIndex,transaction:this.transaction,lastRequestTimeEnd:this.lastRequestTimeEnd,lastResponseStatus:this.lastResponseStatus,lastResponseError:this.lastResponseError,txPosted:this.txPosted}}async postTransaction(){const uploadInBody=this.totalChunks<=MAX_CHUNKS_IN_BODY;if(uploadInBody){this.transaction.data=this.data;const resp=await this.api.post(`tx`,this.transaction).catch(e=>(console.error(e),{status:-1,data:{error:e.message}}));if(this.lastRequestTimeEnd=Date.now(),this.lastResponseStatus=resp.status,this.transaction.data=new Uint8Array(0),200<=resp.status&&300>resp.status)return this.txPosted=!0,void(this.chunkIndex=MAX_CHUNKS_IN_BODY);throw this.lastResponseError=error_1.getError(resp),new Error(`Unable to upload transaction: ${resp.status}, ${this.lastResponseError}`)}const resp=await this.api.post(`tx`,this.transaction);if(this.lastRequestTimeEnd=Date.now(),this.lastResponseStatus=resp.status,!(200<=resp.status&&300>resp.status))throw this.lastResponseError=error_1.getError(resp),new Error(`Unable to upload transaction: ${resp.status}, ${this.lastResponseError}`);this.txPosted=!0}}exports.TransactionUploader=TransactionUploader},function(module,exports,__webpack_require__){'use strict';Object.defineProperty(exports,'__esModule',{value:!0});const ArweaveUtils=__webpack_require__(1);exports.default=class{constructor(api,crypto){this.api=api,this.crypto=crypto}getBalance(address){return this.api.get(`wallet/${address}/balance`,{transformResponse:[function(data){return data}]}).then(response=>response.data)}getLastTransactionID(address){return this.api.get(`wallet/${address}/last_tx`).then(response=>response.data)}generate(){return this.crypto.generateJWK()}async jwkToAddress(jwk){return this.ownerToAddress(jwk.n)}async ownerToAddress(owner){return ArweaveUtils.bufferTob64Url((await this.crypto.hash(ArweaveUtils.b64UrlToBuffer(owner))))}}},function(module,exports,__webpack_require__){'use strict';Object.defineProperty(exports,'__esModule',{value:!0}),exports.SiloResource=void 0;const ArweaveUtils=__webpack_require__(1);exports.default=class{constructor(api,crypto,transactions){this.api=api,this.crypto=crypto,this.transactions=transactions}async get(siloURI){if(!siloURI)throw new Error(`No Silo URI specified`);const resource=await this.parseUri(siloURI),ids=await this.transactions.search('Silo-Name',resource.getAccessKey());if(0==ids.length)throw new Error(`No data could be found for the Silo URI: ${siloURI}`);const transaction=await this.transactions.get(ids[0]);if(!transaction)throw new Error(`No data could be found for the Silo URI: ${siloURI}`);const encrypted=transaction.get('data',{decode:!0,string:!1});return this.crypto.decrypt(encrypted,resource.getEncryptionKey())}async readTransactionData(transaction,siloURI){if(!siloURI)throw new Error(`No Silo URI specified`);const resource=await this.parseUri(siloURI),encrypted=transaction.get('data',{decode:!0,string:!1});return this.crypto.decrypt(encrypted,resource.getEncryptionKey())}async parseUri(siloURI){const parsed=siloURI.match(/^([a-z0-9-_]+)\.([0-9]+)/i);if(!parsed)throw new Error(`Invalid Silo name, must be a name in the format of [a-z0-9]+.[0-9]+, e.g. 'bubble.7'`);const siloName=parsed[1],hashIterations=Math.pow(2,parseInt(parsed[2])),digest=await this.hash(ArweaveUtils.stringToBuffer(siloName),hashIterations),accessKey=ArweaveUtils.bufferTob64(digest.slice(0,15)),encryptionkey=await this.hash(digest.slice(16,31),1);return new SiloResource(siloURI,accessKey,encryptionkey)}async hash(input,iterations){let digest=await this.crypto.hash(input);for(let count=0;count<iterations-1;count++)digest=await this.crypto.hash(digest);return digest}};class SiloResource{constructor(uri,accessKey,encryptionKey){this.uri=uri,this.accessKey=accessKey,this.encryptionKey=encryptionKey}getUri(){return this.uri}getAccessKey(){return this.accessKey}getEncryptionKey(){return this.encryptionKey}}exports.SiloResource=SiloResource},function(module,exports,__webpack_require__){'use strict';Object.defineProperty(exports,'__esModule',{value:!0});const error_1=__webpack_require__(4),ArweaveUtils=__webpack_require__(1);exports.default=class{constructor(api){this.api=api}async getTransactionOffset(id){const resp=await this.api.get(`tx/${id}/offset`);if(200===resp.status)return resp.data;throw new Error(`Unable to get transaction offset: ${error_1.getError(resp)}`)}async getChunk(offset){const resp=await this.api.get(`chunk/${offset}`);if(200===resp.status)return resp.data;throw new Error(`Unable to get chunk: ${error_1.getError(resp)}`)}async getChunkData(offset){const chunk=await this.getChunk(offset),buf=ArweaveUtils.b64UrlToBuffer(chunk.chunk);return buf}firstChunkOffset(offsetResponse){return parseInt(offsetResponse.offset)-parseInt(offsetResponse.size)+1}async downloadChunkedData(id){const offsetResponse=await this.getTransactionOffset(id),size=parseInt(offsetResponse.size),endOffset=parseInt(offsetResponse.offset),startOffset=endOffset-size+1,data=new Uint8Array(size);for(let byte=0;startOffset+byte<endOffset;){const chunkData=await this.getChunkData(startOffset+byte);data.set(chunkData,byte),byte+=chunkData.length}return data}}},function(module,exports,__webpack_require__){'use strict';Object.defineProperty(exports,'__esModule',{value:!0});const ArweaveUtils=__webpack_require__(1);exports.default=class{constructor(){if(this.keyLength=4096,this.publicExponent=65537,this.hashAlgorithm='sha256',!this.detectWebCrypto())throw new Error('SubtleCrypto not available!');this.driver=window.crypto.subtle}async generateJWK(){let cryptoKey=await this.driver.generateKey({name:'RSA-PSS',modulusLength:4096,publicExponent:new Uint8Array([1,0,1]),hash:{name:'SHA-256'}},!0,['sign']),jwk=await this.driver.exportKey('jwk',cryptoKey.privateKey);return{kty:jwk.kty,e:jwk.e,n:jwk.n,d:jwk.d,p:jwk.p,q:jwk.q,dp:jwk.dp,dq:jwk.dq,qi:jwk.qi}}async sign(jwk,data){let signature=await this.driver.sign({name:'RSA-PSS',saltLength:0},(await this.jwkToCryptoKey(jwk)),data);return new Uint8Array(signature)}async hash(data,algorithm='SHA-256'){let digest=await this.driver.digest(algorithm,data);return new Uint8Array(digest)}async verify(publicModulus,data,signature){const key=await this.jwkToPublicCryptoKey({kty:'RSA',e:'AQAB',n:publicModulus});return this.driver.verify({name:'RSA-PSS',saltLength:0},key,signature,data)}async jwkToCryptoKey(jwk){return this.driver.importKey('jwk',jwk,{name:'RSA-PSS',hash:{name:'SHA-256'}},!1,['sign'])}async jwkToPublicCryptoKey(publicJwk){return this.driver.importKey('jwk',publicJwk,{name:'RSA-PSS',hash:{name:'SHA-256'}},!1,['verify'])}detectWebCrypto(){if(!window||!window.crypto||!window.crypto.subtle)return!1;let subtle=window.crypto.subtle;return!('function'!=typeof subtle.generateKey)&&!('function'!=typeof subtle.importKey)&&!('function'!=typeof subtle.exportKey)&&!('function'!=typeof subtle.digest)&&!('function'!=typeof subtle.sign)}async encrypt(data,key){const initialKey=await this.driver.importKey('raw','string'==typeof key?ArweaveUtils.stringToBuffer(key):key,{name:'PBKDF2',length:32},!1,['deriveKey']),salt=ArweaveUtils.stringToBuffer('salt'),derivedkey=await this.driver.deriveKey({name:'PBKDF2',salt:salt,iterations:1e5,hash:'SHA-256'},initialKey,{name:'AES-CBC',length:256},!1,['encrypt','decrypt']),iv=new Uint8Array(16);crypto.getRandomValues(iv);const encryptedData=await this.driver.encrypt({name:'AES-CBC',iv:iv},derivedkey,data);return ArweaveUtils.concatBuffers([iv,encryptedData])}async decrypt(encrypted,key){const initialKey=await this.driver.importKey('raw','string'==typeof key?ArweaveUtils.stringToBuffer(key):key,{name:'PBKDF2',length:32},!1,['deriveKey']),salt=ArweaveUtils.stringToBuffer('salt'),derivedkey=await this.driver.deriveKey({name:'PBKDF2',salt:salt,iterations:1e5,hash:'SHA-256'},initialKey,{name:'AES-CBC',length:256},!1,['encrypt','decrypt']),iv=encrypted.slice(0,16),data=await this.driver.decrypt({name:'AES-CBC',iv:iv},derivedkey,encrypted.slice(16));return ArweaveUtils.concatBuffers([data])}}}]);